(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Um(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gc={exports:{}},Qo={},Kc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function N_(){if(vp)return Ie;vp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,X={};function W(C,$,re){this.props=C,this.context=$,this.refs=X,this.updater=re||B}W.prototype.isReactComponent={},W.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ve(){}ve.prototype=W.prototype;function pe(C,$,re){this.props=C,this.context=$,this.refs=X,this.updater=re||B}var ye=pe.prototype=new ve;ye.constructor=pe,K(ye,W.prototype),ye.isPureReactComponent=!0;var Te=Array.isArray,Je=Object.prototype.hasOwnProperty,ke={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function T(C,$,re){var fe,Ee={},De=null,xe=null;if($!=null)for(fe in $.ref!==void 0&&(xe=$.ref),$.key!==void 0&&(De=""+$.key),$)Je.call($,fe)&&!V.hasOwnProperty(fe)&&(Ee[fe]=$[fe]);var Ne=arguments.length-2;if(Ne===1)Ee.children=re;else if(1<Ne){for(var Oe=Array(Ne),kt=0;kt<Ne;kt++)Oe[kt]=arguments[kt+2];Ee.children=Oe}if(C&&C.defaultProps)for(fe in Ne=C.defaultProps,Ne)Ee[fe]===void 0&&(Ee[fe]=Ne[fe]);return{$$typeof:i,type:C,key:De,ref:xe,props:Ee,_owner:ke.current}}function A(C,$){return{$$typeof:i,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function k(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function D(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return $[re]})}var O=/\/+/g;function S(C,$){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):$.toString(36)}function Ze(C,$,re,fe,Ee){var De=typeof C;(De==="undefined"||De==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch(De){case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case i:case e:xe=!0}}if(xe)return xe=C,Ee=Ee(xe),C=fe===""?"."+S(xe,0):fe,Te(Ee)?(re="",C!=null&&(re=C.replace(O,"$&/")+"/"),Ze(Ee,$,re,"",function(kt){return kt})):Ee!=null&&(k(Ee)&&(Ee=A(Ee,re+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(O,"$&/")+"/")+C)),$.push(Ee)),1;if(xe=0,fe=fe===""?".":fe+":",Te(C))for(var Ne=0;Ne<C.length;Ne++){De=C[Ne];var Oe=fe+S(De,Ne);xe+=Ze(De,$,re,Oe,Ee)}else if(Oe=N(C),typeof Oe=="function")for(C=Oe.call(C),Ne=0;!(De=C.next()).done;)De=De.value,Oe=fe+S(De,Ne++),xe+=Ze(De,$,re,Oe,Ee);else if(De==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return xe}function Rt(C,$,re){if(C==null)return C;var fe=[],Ee=0;return Ze(C,fe,"","",function(De){return $.call(re,De,Ee++)}),fe}function Pt(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var be={current:null},J={transition:null},ue={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:J,ReactCurrentOwner:ke};return Ie.Children={map:Rt,forEach:function(C,$,re){Rt(C,function(){$.apply(this,arguments)},re)},count:function(C){var $=0;return Rt(C,function(){$++}),$},toArray:function(C){return Rt(C,function($){return $})||[]},only:function(C){if(!k(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ie.Component=W,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=pe,Ie.StrictMode=s,Ie.Suspense=_,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ie.cloneElement=function(C,$,re){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var fe=K({},C.props),Ee=C.key,De=C.ref,xe=C._owner;if($!=null){if($.ref!==void 0&&(De=$.ref,xe=ke.current),$.key!==void 0&&(Ee=""+$.key),C.type&&C.type.defaultProps)var Ne=C.type.defaultProps;for(Oe in $)Je.call($,Oe)&&!V.hasOwnProperty(Oe)&&(fe[Oe]=$[Oe]===void 0&&Ne!==void 0?Ne[Oe]:$[Oe])}var Oe=arguments.length-2;if(Oe===1)fe.children=re;else if(1<Oe){Ne=Array(Oe);for(var kt=0;kt<Oe;kt++)Ne[kt]=arguments[kt+2];fe.children=Ne}return{$$typeof:i,type:C.type,key:Ee,ref:De,props:fe,_owner:xe}},Ie.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},Ie.createElement=T,Ie.createFactory=function(C){var $=T.bind(null,C);return $.type=C,$},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(C){return{$$typeof:g,render:C}},Ie.isValidElement=k,Ie.lazy=function(C){return{$$typeof:I,_payload:{_status:-1,_result:C},_init:Pt}},Ie.memo=function(C,$){return{$$typeof:E,type:C,compare:$===void 0?null:$}},Ie.startTransition=function(C){var $=J.transition;J.transition={};try{C()}finally{J.transition=$}},Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.useCallback=function(C,$){return be.current.useCallback(C,$)},Ie.useContext=function(C){return be.current.useContext(C)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(C){return be.current.useDeferredValue(C)},Ie.useEffect=function(C,$){return be.current.useEffect(C,$)},Ie.useId=function(){return be.current.useId()},Ie.useImperativeHandle=function(C,$,re){return be.current.useImperativeHandle(C,$,re)},Ie.useInsertionEffect=function(C,$){return be.current.useInsertionEffect(C,$)},Ie.useLayoutEffect=function(C,$){return be.current.useLayoutEffect(C,$)},Ie.useMemo=function(C,$){return be.current.useMemo(C,$)},Ie.useReducer=function(C,$,re){return be.current.useReducer(C,$,re)},Ie.useRef=function(C){return be.current.useRef(C)},Ie.useState=function(C){return be.current.useState(C)},Ie.useSyncExternalStore=function(C,$,re){return be.current.useSyncExternalStore(C,$,re)},Ie.useTransition=function(){return be.current.useTransition()},Ie.version="18.2.0",Ie}var Ep;function xh(){return Ep||(Ep=1,Kc.exports=N_()),Kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function O_(){if(wp)return Qo;wp=1;var i=xh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,E){var I,x={},N=null,B=null;E!==void 0&&(N=""+E),_.key!==void 0&&(N=""+_.key),_.ref!==void 0&&(B=_.ref);for(I in _)s.call(_,I)&&!c.hasOwnProperty(I)&&(x[I]=_[I]);if(g&&g.defaultProps)for(I in _=g.defaultProps,_)x[I]===void 0&&(x[I]=_[I]);return{$$typeof:e,type:g,key:N,ref:B,props:x,_owner:a.current}}return Qo.Fragment=n,Qo.jsx=f,Qo.jsxs=f,Qo}var Tp;function F_(){return Tp||(Tp=1,Gc.exports=O_()),Gc.exports}var se=F_(),bl=xh();const L_=Um(bl);var Vl={},Xc={exports:{}},Gt={},Yc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function M_(){return Ip||(Ip=1,function(i){function e(J,ue){var C=J.length;J.push(ue);e:for(;0<C;){var $=C-1>>>1,re=J[$];if(0<a(re,ue))J[$]=ue,J[C]=re,C=$;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],C=J.pop();if(C!==ue){J[0]=C;e:for(var $=0,re=J.length,fe=re>>>1;$<fe;){var Ee=2*($+1)-1,De=J[Ee],xe=Ee+1,Ne=J[xe];if(0>a(De,C))xe<re&&0>a(Ne,De)?(J[$]=Ne,J[xe]=C,$=xe):(J[$]=De,J[Ee]=C,$=Ee);else if(xe<re&&0>a(Ne,C))J[$]=Ne,J[xe]=C,$=xe;else break e}}return ue}function a(J,ue){var C=J.sortIndex-ue.sortIndex;return C!==0?C:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var _=[],E=[],I=1,x=null,N=3,B=!1,K=!1,X=!1,W=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(J){for(var ue=n(E);ue!==null;){if(ue.callback===null)s(E);else if(ue.startTime<=J)s(E),ue.sortIndex=ue.expirationTime,e(_,ue);else break;ue=n(E)}}function Te(J){if(X=!1,ye(J),!K)if(n(_)!==null)K=!0,Pt(Je);else{var ue=n(E);ue!==null&&be(Te,ue.startTime-J)}}function Je(J,ue){K=!1,X&&(X=!1,ve(T),T=-1),B=!0;var C=N;try{for(ye(ue),x=n(_);x!==null&&(!(x.expirationTime>ue)||J&&!D());){var $=x.callback;if(typeof $=="function"){x.callback=null,N=x.priorityLevel;var re=$(x.expirationTime<=ue);ue=i.unstable_now(),typeof re=="function"?x.callback=re:x===n(_)&&s(_),ye(ue)}else s(_);x=n(_)}if(x!==null)var fe=!0;else{var Ee=n(E);Ee!==null&&be(Te,Ee.startTime-ue),fe=!1}return fe}finally{x=null,N=C,B=!1}}var ke=!1,V=null,T=-1,A=5,k=-1;function D(){return!(i.unstable_now()-k<A)}function O(){if(V!==null){var J=i.unstable_now();k=J;var ue=!0;try{ue=V(!0,J)}finally{ue?S():(ke=!1,V=null)}}else ke=!1}var S;if(typeof pe=="function")S=function(){pe(O)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Rt=Ze.port2;Ze.port1.onmessage=O,S=function(){Rt.postMessage(null)}}else S=function(){W(O,0)};function Pt(J){V=J,ke||(ke=!0,S())}function be(J,ue){T=W(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){K||B||(K=!0,Pt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(J){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var C=N;N=ue;try{return J()}finally{N=C}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var C=N;N=J;try{return ue()}finally{N=C}},i.unstable_scheduleCallback=function(J,ue,C){var $=i.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?$+C:$):C=$,J){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=C+re,J={id:I++,callback:ue,priorityLevel:J,startTime:C,expirationTime:re,sortIndex:-1},C>$?(J.sortIndex=C,e(E,J),n(_)===null&&J===n(E)&&(X?(ve(T),T=-1):X=!0,be(Te,C-$))):(J.sortIndex=re,e(_,J),K||B||(K=!0,Pt(Je))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var ue=N;return function(){var C=N;N=ue;try{return J.apply(this,arguments)}finally{N=C}}}}(Jc)),Jc}var Sp;function b_(){return Sp||(Sp=1,Yc.exports=M_()),Yc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function j_(){if(Ap)return Gt;Ap=1;var i=xh(),e=b_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},x={};function N(t){return _.call(x,t)?!0:_.call(I,t)?!1:E.test(t)?x[t]=!0:(I[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];W[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ve,pe);W[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ve,pe);W[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ve,pe);W[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=W.hasOwnProperty(r)?W[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,h,u)&&(o=null),u||h===null?N(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),ke=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var C=Object.assign,$;function re(t){if($===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$=r&&r[1]||""}return`
`+$+t}var fe=!1;function Ee(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?re(t):""}function De(t){switch(t.tag){case 5:return re(t.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case ke:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Ne(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kt(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ji(t){var r=kt(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xn(t){t._valueTracker||(t._valueTracker=ji(t))}function Ui(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=kt(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ri(t,r){var o=r.checked;return C({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Js(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function Zs(t,r){Js(t,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ga(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||vr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function Jn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function eo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return C({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $i(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Oe(o)}}function qi(t,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function to(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,no=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Er(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ii[r]=ii[t]})});function ro(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ii.hasOwnProperty(t)&&ii[t]?(""+r).trim():r+"px"}function io(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=ro(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var so=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(t,r){if(r){if(so[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ao(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,rn=null,Nn=null;function Qi(t){if(t=Do(t)){if(typeof Wi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Wa(r),Wi(t.stateNode,t.type,r))}}function On(t){rn?Nn?Nn.push(t):Nn=[t]:rn=t}function lo(){if(rn){var t=rn,r=Nn;if(Nn=rn=null,Qi(t),r)for(t=0;t<r.length;t++)Qi(r[t])}}function ai(t,r){return t(r)}function uo(){}var er=!1;function co(t,r,o){if(er)return t(r,o);er=!0;try{return ai(t,r,o)}finally{er=!1,(rn!==null||Nn!==null)&&(uo(),lo())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=Wa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Gi=!1;if(g)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Gi=!1}function li(t,r,o,u,h,p,y,w,R){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(H){this.onError(H)}}var ui=!1,Ki=null,yn=!1,ho=null,Tu={onError:function(t){ui=!0,Ki=t}};function Xi(t,r,o,u,h,p,y,w,R){ui=!1,Ki=null,li.apply(Tu,arguments)}function ya(t,r,o,u,h,p,y,w,R){if(Xi.apply(this,arguments),ui){if(ui){var b=Ki;ui=!1,Ki=null}else throw Error(n(198));yn||(yn=!0,ho=b)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ci(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(_n(t)!==t)throw Error(n(188))}function _a(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function fo(t){return t=_a(t),t!==null?Yi(t):null}function Yi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Yi(t);if(r!==null)return r;t=t.sibling}return null}var Ji=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,va=e.unstable_shouldYield,Iu=e.unstable_requestPaint,Ue=e.unstable_now,Ea=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,wr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,mo=e.unstable_LowPriority,wa=e.unstable_IdlePriority,fi=null,Xt=null;function Ta(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Sa,go=Math.log,Ia=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-(go(t)/Ia|0)|0}var Zi=64,es=4194304;function Tr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=Tr(w):(p&=y,p!==0&&(u=Tr(p)))}else y=o&~h,y!==0?u=Tr(y):p!==0&&(u=Tr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function Su(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Mt(p),w=1<<y,R=h[y];R===-1?((w&o)===0||(w&u)!==0)&&(h[y]=Su(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pi(){var t=Zi;return Zi<<=1,(Zi&4194240)===0&&(Zi=64),t}function Ir(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Sr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Cr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Aa,ts,Ca,Ra,Pa,yo=!1,Fn=[],Et=null,En=null,wn=null,Rr=new Map,on=new Map,Ln=[],Au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Rr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(r.pointerId)}}function zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Do(r),r!==null&&ts(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Cu(t,r,o,u,h){switch(r){case"focusin":return Et=zt(Et,t,r,o,u,h),!0;case"dragenter":return En=zt(En,t,r,o,u,h),!0;case"mouseover":return wn=zt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Rr.set(p,zt(Rr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,on.set(p,zt(on.get(p)||null,t,r,o,u,h)),!0}return!1}function xa(t){var r=vi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=ci(o),r!==null){t.blockedOn=r,Pa(t.priority,function(){Ca(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ns(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);oi=u,o.target.dispatchEvent(u),oi=null}else return r=Do(o),r!==null&&ts(r),t.blockedOn=o,!1;r.shift()}return!0}function mi(t,r,o){nr(t)&&o.delete(r)}function Va(){yo=!1,Et!==null&&nr(Et)&&(Et=null),En!==null&&nr(En)&&(En=null),wn!==null&&nr(wn)&&(wn=null),Rr.forEach(mi),on.forEach(mi)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,yo||(yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Va)))}function In(t){function r(h){return Tn(h,t)}if(0<Fn.length){Tn(Fn[0],t);for(var o=1;o<Fn.length;o++){var u=Fn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&Tn(Et,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Rr.forEach(r),on.forEach(r),o=0;o<Ln.length;o++)u=Ln[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Ln.length&&(o=Ln[0],o.blockedOn===null);)xa(o),o.blockedOn===null&&Ln.shift()}var rr=Te.ReactCurrentBatchConfig,Pr=!0;function We(t,r,o,u){var h=Ae,p=rr.transition;rr.transition=null;try{Ae=1,_o(t,r,o,u)}finally{Ae=h,rr.transition=p}}function Ru(t,r,o,u){var h=Ae,p=rr.transition;rr.transition=null;try{Ae=4,_o(t,r,o,u)}finally{Ae=h,rr.transition=p}}function _o(t,r,o,u){if(Pr){var h=ns(t,r,o,u);if(h===null)bu(t,r,u,gi,o),ka(t,u);else if(Cu(h,t,r,o,u))u.stopPropagation();else if(ka(t,u),r&4&&-1<Au.indexOf(t)){for(;h!==null;){var p=Do(h);if(p!==null&&Aa(p),p=ns(t,r,o,u),p===null&&bu(t,r,u,gi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else bu(t,r,u,null,o)}}var gi=null;function ns(t,r,o,u){if(gi=null,t=Hi(u),t=vi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ci(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return gi=t,null}function vo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ea()){case hi:return 1;case wr:return 4;case sn:case mo:return 16;case wa:return 536870912;default:return 16}default:return 16}}var Jt=null,rs=null,Bt=null;function Eo(){if(Bt)return Bt;var t,r=rs,o=r.length,u,h="value"in Jt?Jt.value:Jt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function is(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function wo(){return!1}function wt(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:wo,this.isPropagationStopped=wo,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=wt(Sn),bn=C({},Sn,{view:0,detail:0}),Pu=wt(bn),os,ir,kr,yi=C({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(os=t.screenX-kr.screenX,ir=t.screenY-kr.screenY):ir=os=0,kr=t),os)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),as=wt(yi),To=C({},yi,{dataTransfer:0}),Da=wt(To),ls=C({},bn,{relatedTarget:0}),us=wt(ls),Na=C({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=wt(Na),Oa=C({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fa=wt(Oa),La=C({},Sn,{data:0}),Io=wt(La),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ma[t])?!!r[t]:!1}function jn(){return ba}var l=C({},bn,{key:function(t){if(t.key){var r=cs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=wt(l),m=C({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=wt(m),F=C({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn}),j=wt(F),Y=C({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=wt(Y),ct=C({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=wt(ct),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,an=null;g&&"documentMode"in document&&(an=document.documentMode);var Zt=g&&"TextEvent"in window&&!an,_i=g&&(!rt||an&&8<an&&11>=an),hs=" ",ff=!1;function df(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function xy(t,r){switch(t){case"compositionend":return pf(r);case"keypress":return r.which!==32?null:(ff=!0,hs);case"textInput":return t=r.data,t===hs&&ff?null:t;default:return null}}function Vy(t,r){if(fs)return t==="compositionend"||!rt&&df(t,r)?(t=Eo(),Bt=rs=Jt=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dy[t.type]:r==="textarea"}function gf(t,r,o,u){On(u),r=$a(r,"onChange"),0<r.length&&(o=new ss("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Ao=null;function Ny(t){Of(t,0)}function ja(t){var r=ys(t);if(Ui(r))return t}function Oy(t,r){if(t==="change")return r}var yf=!1;if(g){var ku;if(g){var xu="oninput"in document;if(!xu){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),xu=typeof _f.oninput=="function"}ku=xu}else ku=!1;yf=ku&&(!document.documentMode||9<document.documentMode)}function vf(){So&&(So.detachEvent("onpropertychange",Ef),Ao=So=null)}function Ef(t){if(t.propertyName==="value"&&ja(Ao)){var r=[];gf(r,Ao,t,Hi(t)),co(Ny,r)}}function Fy(t,r,o){t==="focusin"?(vf(),So=r,Ao=o,So.attachEvent("onpropertychange",Ef)):t==="focusout"&&vf()}function Ly(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(Ao)}function My(t,r){if(t==="click")return ja(r)}function by(t,r){if(t==="input"||t==="change")return ja(r)}function jy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:jy;function Co(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!An(t[h],r[h]))return!1}return!0}function wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tf(t,r){var o=wf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wf(o)}}function If(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?If(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sf(){for(var t=window,r=vr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=vr(t.document)}return r}function Vu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Uy(t){var r=Sf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&If(o.ownerDocument.documentElement,o)){if(u!==null&&Vu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Tf(o,p);var y=Tf(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=g&&"documentMode"in document&&11>=document.documentMode,ds=null,Du=null,Ro=null,Nu=!1;function Af(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nu||ds==null||ds!==vr(u)||(u=ds,"selectionStart"in u&&Vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Co(Ro,u)||(Ro=u,u=$a(Du,"onSelect"),0<u.length&&(r=new ss("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ds)))}function Ua(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ps={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Ou={},Cf={};g&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function za(t){if(Ou[t])return Ou[t];if(!ps[t])return t;var r=ps[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Cf)return Ou[t]=r[o];return t}var Rf=za("animationend"),Pf=za("animationiteration"),kf=za("animationstart"),xf=za("transitionend"),Vf=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,r){Vf.set(t,r),c(r,[t])}for(var Fu=0;Fu<Df.length;Fu++){var Lu=Df[Fu],By=Lu.toLowerCase(),$y=Lu[0].toUpperCase()+Lu.slice(1);xr(By,"on"+$y)}xr(Rf,"onAnimationEnd"),xr(Pf,"onAnimationIteration"),xr(kf,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(xf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Nf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ya(u,r,void 0,t),t.currentTarget=null}function Of(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,b=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;Nf(h,w,b),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,b=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;Nf(h,w,b),p=R}}}if(yn)throw t=ho,yn=!1,ho=null,t}function $e(t,r){var o=r[qu];o===void 0&&(o=r[qu]=new Set);var u=t+"__bubble";o.has(u)||(Ff(r,t,2,!1),o.add(u))}function Mu(t,r,o){var u=0;r&&(u|=4),Ff(o,t,u,r)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[Ba]){t[Ba]=!0,s.forEach(function(o){o!=="selectionchange"&&(qy.has(o)||Mu(o,!1,t),Mu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ba]||(r[Ba]=!0,Mu("selectionchange",!1,r))}}function Ff(t,r,o,u){switch(vo(r)){case 1:var h=We;break;case 4:h=Ru;break;default:h=_o}o=h.bind(null,r,o,t),h=void 0,!Gi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function bu(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=vi(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}co(function(){var b=p,H=Hi(o),Q=[];e:{var q=Vf.get(t);if(q!==void 0){var Z=ss,ie=t;switch(t){case"keypress":if(is(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":ie="focus",Z=us;break;case"focusout":ie="blur",Z=us;break;case"beforeblur":case"afterblur":Z=us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=as;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=j;break;case Rf:case Pf:case kf:Z=sr;break;case xf:Z=Me;break;case"scroll":Z=Pu;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var oe=(r&4)!==0,tt=!oe&&t==="scroll",L=oe?q!==null?q+"Capture":null:q;oe=[];for(var P=b,M;P!==null;){M=P;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,L!==null&&(G=et(P,L),G!=null&&oe.push(xo(P,G,M)))),tt)break;P=P.return}0<oe.length&&(q=new Z(q,ie,null,o,H),Q.push({event:q,listeners:oe}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==oi&&(ie=o.relatedTarget||o.fromElement)&&(vi(ie)||ie[or]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=b,ie=ie?vi(ie):null,ie!==null&&(tt=_n(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=b),Z!==ie)){if(oe=as,G="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(oe=v,G="onPointerLeave",L="onPointerEnter",P="pointer"),tt=Z==null?q:ys(Z),M=ie==null?q:ys(ie),q=new oe(G,P+"leave",Z,o,H),q.target=tt,q.relatedTarget=M,G=null,vi(H)===b&&(oe=new oe(L,P+"enter",ie,o,H),oe.target=M,oe.relatedTarget=tt,G=oe),tt=G,Z&&ie)t:{for(oe=Z,L=ie,P=0,M=oe;M;M=ms(M))P++;for(M=0,G=L;G;G=ms(G))M++;for(;0<P-M;)oe=ms(oe),P--;for(;0<M-P;)L=ms(L),M--;for(;P--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=ms(oe),L=ms(L)}oe=null}else oe=null;Z!==null&&Lf(Q,q,Z,oe,!1),ie!==null&&tt!==null&&Lf(Q,tt,ie,oe,!0)}}e:{if(q=b?ys(b):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var ae=Oy;else if(mf(q))if(yf)ae=by;else{ae=Ly;var ce=Fy}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ae=My);if(ae&&(ae=ae(t,b))){gf(Q,ae,o,H);break e}ce&&ce(t,q,b),t==="focusout"&&(ce=q._wrapperState)&&ce.controlled&&q.type==="number"&&Bi(q,"number",q.value)}switch(ce=b?ys(b):window,t){case"focusin":(mf(ce)||ce.contentEditable==="true")&&(ds=ce,Du=b,Ro=null);break;case"focusout":Ro=Du=ds=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Af(Q,o,H);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Af(Q,o,H)}var he;if(rt)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else fs?df(t,o)&&(me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(_i&&o.locale!=="ko"&&(fs||me!=="onCompositionStart"?me==="onCompositionEnd"&&fs&&(he=Eo()):(Jt=H,rs="value"in Jt?Jt.value:Jt.textContent,fs=!0)),ce=$a(b,me),0<ce.length&&(me=new Io(me,t,null,o,H),Q.push({event:me,listeners:ce}),he?me.data=he:(he=pf(o),he!==null&&(me.data=he)))),(he=Zt?xy(t,o):Vy(t,o))&&(b=$a(b,"onBeforeInput"),0<b.length&&(H=new Io("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:b}),H.data=he))}Of(Q,r)})}function xo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function $a(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(xo(t,p,h)),p=et(t,r),p!=null&&u.push(xo(t,p,h))),t=t.return}return u}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lf(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,R=w.alternate,b=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&b!==null&&(w=b,h?(R=et(o,p),R!=null&&y.unshift(xo(o,R,w))):h||(R=et(o,p),R!=null&&y.push(xo(o,R,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Hy=/\r\n?/g,Wy=/\u0000|\uFFFD/g;function Mf(t){return(typeof t=="string"?t:""+t).replace(Hy,`
`).replace(Wy,"")}function qa(t,r,o){if(r=Mf(r),Mf(t)!==r&&o)throw Error(n(425))}function Ha(){}var ju=null,Uu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(t){return bf.resolve(null).then(t).catch(Ky)}:Bu;function Ky(t){setTimeout(function(){throw t})}function $u(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function jf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Un="__reactFiber$"+gs,Vo="__reactProps$"+gs,or="__reactContainer$"+gs,qu="__reactEvents$"+gs,Xy="__reactListeners$"+gs,Yy="__reactHandles$"+gs;function vi(t){var r=t[Un];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[Un]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=jf(t);t!==null;){if(o=t[Un])return o;t=jf(t)}return r}t=o,o=t.parentNode}return null}function Do(t){return t=t[Un]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Wa(t){return t[Vo]||null}var Hu=[],_s=-1;function Dr(t){return{current:t}}function qe(t){0>_s||(t.current=Hu[_s],Hu[_s]=null,_s--)}function ze(t,r){_s++,Hu[_s]=t.current,t.current=r}var Nr={},xt=Dr(Nr),$t=Dr(!1),Ei=Nr;function vs(t,r){var o=t.type.contextTypes;if(!o)return Nr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Qa(){qe($t),qe(xt)}function Uf(t,r,o){if(xt.current!==Nr)throw Error(n(168));ze(xt,r),ze($t,o)}function zf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Ne(t)||"Unknown",h));return C({},o,u)}function Ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,Ei=xt.current,ze(xt,t),ze($t,$t.current),!0}function Bf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=zf(t,r,Ei),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(xt),ze(xt,t)):qe($t),ze($t,o)}var ar=null,Ka=!1,Wu=!1;function $f(t){ar===null?ar=[t]:ar.push(t)}function Jy(t){Ka=!0,$f(t)}function Or(){if(!Wu&&ar!==null){Wu=!0;var t=0,r=Ae;try{var o=ar;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ar=null,Ka=!1}catch(h){throw ar!==null&&(ar=ar.slice(t+1)),Ji(hi,Or),h}finally{Ae=r,Wu=!1}}return null}var Es=[],ws=0,Xa=null,Ya=0,ln=[],un=0,wi=null,lr=1,ur="";function Ti(t,r){Es[ws++]=Ya,Es[ws++]=Xa,Xa=t,Ya=r}function qf(t,r,o){ln[un++]=lr,ln[un++]=ur,ln[un++]=wi,wi=t;var u=lr;t=ur;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,lr=1<<32-Mt(r)+h|o<<h|u,ur=p+t}else lr=1<<p|o<<h|u,ur=t}function Qu(t){t.return!==null&&(Ti(t,1),qf(t,1,0))}function Gu(t){for(;t===Xa;)Xa=Es[--ws],Es[ws]=null,Ya=Es[--ws],Es[ws]=null;for(;t===wi;)wi=ln[--un],ln[un]=null,ur=ln[--un],ln[un]=null,lr=ln[--un],ln[un]=null}var en=null,tn=null,Qe=!1,Cn=null;function Hf(t,r){var o=dn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Wf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,tn=Vr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=wi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=dn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,en=t,tn=null,!0):!1;default:return!1}}function Ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xu(t){if(Qe){var r=tn;if(r){var o=r;if(!Wf(t,r)){if(Ku(t))throw Error(n(418));r=Vr(o.nextSibling);var u=en;r&&Wf(t,r)?Hf(u,o):(t.flags=t.flags&-4097|2,Qe=!1,en=t)}}else{if(Ku(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,en=t}}}function Qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Ja(t){if(t!==en)return!1;if(!Qe)return Qf(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=tn)){if(Ku(t))throw Gf(),Error(n(418));for(;r;)Hf(t,r),r=Vr(r.nextSibling)}if(Qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){tn=Vr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}tn=null}}else tn=en?Vr(t.stateNode.nextSibling):null;return!0}function Gf(){for(var t=tn;t;)t=Vr(t.nextSibling)}function Ts(){tn=en=null,Qe=!1}function Yu(t){Cn===null?Cn=[t]:Cn.push(t)}var Zy=Te.ReactCurrentBatchConfig;function Rn(t,r){if(t&&t.defaultProps){r=C({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Za=Dr(null),el=null,Is=null,Ju=null;function Zu(){Ju=Is=el=null}function ec(t){var r=Za.current;qe(Za),t._currentValue=r}function tc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ss(t,r){el=t,Ju=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Ht=!0),t.firstContext=null)}function cn(t){var r=t._currentValue;if(Ju!==t)if(t={context:t,memoizedValue:r,next:null},Is===null){if(el===null)throw Error(n(308));Is=t,el.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return r}var Ii=null;function nc(t){Ii===null?Ii=[t]:Ii.push(t)}function Kf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,nc(r)):(o.next=h.next,h.next=o),r.interleaved=o,cr(t,u)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Lr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,cr(t,o)}return h=u.interleaved,h===null?(r.next=r,nc(u)):(r.next=h.next,h.next=r),u.interleaved=r,cr(t,o)}function tl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function Yf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function nl(t,r,o,u){var h=t.updateQueue;Fr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,b=R.next;R.next=null,y===null?p=b:y.next=b,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==y&&(w===null?H.firstBaseUpdate=b:w.next=b,H.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,H=b=R=null,w=p;do{var q=w.lane,Z=w.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ie=t,oe=w;switch(q=r,Z=o,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){Q=ie.call(Z,Q,q);break e}Q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,q=typeof ie=="function"?ie.call(Z,Q,q):ie,q==null)break e;Q=C({},Q,q);break e;case 2:Fr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[w]:q.push(w))}else Z={eventTime:Z,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(b=H=Z,R=Q):H=H.next=Z,y|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=b,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ci|=y,t.lanes=y,t.memoizedState=Q}}function Jf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Zf=new i.Component().refs;function ic(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:C({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var rl={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Ur(t),p=hr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(xn(r,t,h,u),tl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Ur(t),p=hr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(xn(r,t,h,u),tl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),u=Ur(t),h=hr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Lr(t,h,u),r!==null&&(xn(r,t,u,o),tl(r,t,u))}};function ed(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!Co(o,u)||!Co(h,p):!0}function td(t,r,o){var u=!1,h=Nr,p=r.contextType;return typeof p=="object"&&p!==null?p=cn(p):(h=qt(r)?Ei:xt.current,u=r.contextTypes,p=(u=u!=null)?vs(t,h):Nr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=rl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function nd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&rl.enqueueReplaceState(r,r.state,null)}function sc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs=Zf,rc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=cn(p):(p=qt(r)?Ei:xt.current,h.context=vs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ic(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&rl.enqueueReplaceState(h,h.state,null),nl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;w===Zf&&(w=h.refs={}),y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function il(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function rd(t){var r=t._init;return r(t._payload)}function id(t){function r(L,P){if(t){var M=L.deletions;M===null?(L.deletions=[P],L.flags|=16):M.push(P)}}function o(L,P){if(!t)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function u(L,P){for(L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function h(L,P){return L=Br(L,P),L.index=0,L.sibling=null,L}function p(L,P,M){return L.index=M,t?(M=L.alternate,M!==null?(M=M.index,M<P?(L.flags|=2,P):M):(L.flags|=2,P)):(L.flags|=1048576,P)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function w(L,P,M,G){return P===null||P.tag!==6?(P=Bc(M,L.mode,G),P.return=L,P):(P=h(P,M),P.return=L,P)}function R(L,P,M,G){var ae=M.type;return ae===V?H(L,P,M.props.children,G,M.key):P!==null&&(P.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Pt&&rd(ae)===P.type)?(G=h(P,M.props),G.ref=No(L,P,M),G.return=L,G):(G=Il(M.type,M.key,M.props,null,L.mode,G),G.ref=No(L,P,M),G.return=L,G)}function b(L,P,M,G){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=$c(M,L.mode,G),P.return=L,P):(P=h(P,M.children||[]),P.return=L,P)}function H(L,P,M,G,ae){return P===null||P.tag!==7?(P=xi(M,L.mode,G,ae),P.return=L,P):(P=h(P,M),P.return=L,P)}function Q(L,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Bc(""+P,L.mode,M),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Je:return M=Il(P.type,P.key,P.props,null,L.mode,M),M.ref=No(L,null,P),M.return=L,M;case ke:return P=$c(P,L.mode,M),P.return=L,P;case Pt:var G=P._init;return Q(L,G(P._payload),M)}if(Yn(P)||ue(P))return P=xi(P,L.mode,M,null),P.return=L,P;il(L,P)}return null}function q(L,P,M,G){var ae=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ae!==null?null:w(L,P,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Je:return M.key===ae?R(L,P,M,G):null;case ke:return M.key===ae?b(L,P,M,G):null;case Pt:return ae=M._init,q(L,P,ae(M._payload),G)}if(Yn(M)||ue(M))return ae!==null?null:H(L,P,M,G,null);il(L,M)}return null}function Z(L,P,M,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number")return L=L.get(M)||null,w(P,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Je:return L=L.get(G.key===null?M:G.key)||null,R(P,L,G,ae);case ke:return L=L.get(G.key===null?M:G.key)||null,b(P,L,G,ae);case Pt:var ce=G._init;return Z(L,P,M,ce(G._payload),ae)}if(Yn(G)||ue(G))return L=L.get(M)||null,H(P,L,G,ae,null);il(P,G)}return null}function ie(L,P,M,G){for(var ae=null,ce=null,he=P,me=P=0,yt=null;he!==null&&me<M.length;me++){he.index>me?(yt=he,he=null):yt=he.sibling;var Fe=q(L,he,M[me],G);if(Fe===null){he===null&&(he=yt);break}t&&he&&Fe.alternate===null&&r(L,he),P=p(Fe,P,me),ce===null?ae=Fe:ce.sibling=Fe,ce=Fe,he=yt}if(me===M.length)return o(L,he),Qe&&Ti(L,me),ae;if(he===null){for(;me<M.length;me++)he=Q(L,M[me],G),he!==null&&(P=p(he,P,me),ce===null?ae=he:ce.sibling=he,ce=he);return Qe&&Ti(L,me),ae}for(he=u(L,he);me<M.length;me++)yt=Z(he,L,me,M[me],G),yt!==null&&(t&&yt.alternate!==null&&he.delete(yt.key===null?me:yt.key),P=p(yt,P,me),ce===null?ae=yt:ce.sibling=yt,ce=yt);return t&&he.forEach(function($r){return r(L,$r)}),Qe&&Ti(L,me),ae}function oe(L,P,M,G){var ae=ue(M);if(typeof ae!="function")throw Error(n(150));if(M=ae.call(M),M==null)throw Error(n(151));for(var ce=ae=null,he=P,me=P=0,yt=null,Fe=M.next();he!==null&&!Fe.done;me++,Fe=M.next()){he.index>me?(yt=he,he=null):yt=he.sibling;var $r=q(L,he,Fe.value,G);if($r===null){he===null&&(he=yt);break}t&&he&&$r.alternate===null&&r(L,he),P=p($r,P,me),ce===null?ae=$r:ce.sibling=$r,ce=$r,he=yt}if(Fe.done)return o(L,he),Qe&&Ti(L,me),ae;if(he===null){for(;!Fe.done;me++,Fe=M.next())Fe=Q(L,Fe.value,G),Fe!==null&&(P=p(Fe,P,me),ce===null?ae=Fe:ce.sibling=Fe,ce=Fe);return Qe&&Ti(L,me),ae}for(he=u(L,he);!Fe.done;me++,Fe=M.next())Fe=Z(he,L,me,Fe.value,G),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?me:Fe.key),P=p(Fe,P,me),ce===null?ae=Fe:ce.sibling=Fe,ce=Fe);return t&&he.forEach(function(D_){return r(L,D_)}),Qe&&Ti(L,me),ae}function tt(L,P,M,G){if(typeof M=="object"&&M!==null&&M.type===V&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Je:e:{for(var ae=M.key,ce=P;ce!==null;){if(ce.key===ae){if(ae=M.type,ae===V){if(ce.tag===7){o(L,ce.sibling),P=h(ce,M.props.children),P.return=L,L=P;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Pt&&rd(ae)===ce.type){o(L,ce.sibling),P=h(ce,M.props),P.ref=No(L,ce,M),P.return=L,L=P;break e}o(L,ce);break}else r(L,ce);ce=ce.sibling}M.type===V?(P=xi(M.props.children,L.mode,G,M.key),P.return=L,L=P):(G=Il(M.type,M.key,M.props,null,L.mode,G),G.ref=No(L,P,M),G.return=L,L=G)}return y(L);case ke:e:{for(ce=M.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){o(L,P.sibling),P=h(P,M.children||[]),P.return=L,L=P;break e}else{o(L,P);break}else r(L,P);P=P.sibling}P=$c(M,L.mode,G),P.return=L,L=P}return y(L);case Pt:return ce=M._init,tt(L,P,ce(M._payload),G)}if(Yn(M))return ie(L,P,M,G);if(ue(M))return oe(L,P,M,G);il(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(o(L,P.sibling),P=h(P,M),P.return=L,L=P):(o(L,P),P=Bc(M,L.mode,G),P.return=L,L=P),y(L)):o(L,P)}return tt}var As=id(!0),sd=id(!1),Oo={},zn=Dr(Oo),Fo=Dr(Oo),Lo=Dr(Oo);function Si(t){if(t===Oo)throw Error(n(174));return t}function oc(t,r){switch(ze(Lo,r),ze(Fo,t),ze(zn,Oo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe(zn),ze(zn,r)}function Cs(){qe(zn),qe(Fo),qe(Lo)}function od(t){Si(Lo.current);var r=Si(zn.current),o=ut(r,t.type);r!==o&&(ze(Fo,t),ze(zn,o))}function ac(t){Fo.current===t&&(qe(zn),qe(Fo))}var Ge=Dr(0);function sl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lc=[];function uc(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var ol=Te.ReactCurrentDispatcher,cc=Te.ReactCurrentBatchConfig,Ai=0,Ke=null,ht=null,mt=null,al=!1,Mo=!1,bo=0,e_=0;function Vt(){throw Error(n(321))}function hc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function fc(t,r,o,u,h,p){if(Ai=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ol.current=t===null||t.memoizedState===null?i_:s_,t=o(u,h),Mo){p=0;do{if(Mo=!1,bo=0,25<=p)throw Error(n(301));p+=1,mt=ht=null,r.updateQueue=null,ol.current=o_,t=o(u,h)}while(Mo)}if(ol.current=cl,r=ht!==null&&ht.next!==null,Ai=0,mt=ht=Ke=null,al=!1,r)throw Error(n(300));return t}function dc(){var t=bo!==0;return bo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function hn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=mt===null?Ke.memoizedState:mt.next;if(r!==null)mt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function jo(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,b=p;do{var H=b.lane;if((Ai&H)===H)R!==null&&(R=R.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var Q={lane:H,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,Ke.lanes|=H,Ci|=H}b=b.next}while(b!==null&&b!==p);R===null?y=u:R.next=w,An(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,Ci|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function mc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);An(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function ad(){}function ld(t,r){var o=Ke,u=hn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,gc(hd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Uo(9,cd.bind(null,o,u,h,r),void 0,null),gt===null)throw Error(n(349));(Ai&30)!==0||ud(o,r,h)}return h}function ud(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function cd(t,r,o,u){r.value=o,r.getSnapshot=u,fd(r)&&dd(t)}function hd(t,r,o){return o(function(){fd(r)&&dd(t)})}function fd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function dd(t){var r=cr(t,1);r!==null&&xn(r,t,1,-1)}function pd(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},r.queue=t,t=t.dispatch=r_.bind(null,Ke,t),[r.memoizedState,t]}function Uo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function md(){return hn().memoizedState}function ll(t,r,o,u){var h=Bn();Ke.flags|=t,h.memoizedState=Uo(1|r,o,void 0,u===void 0?null:u)}function ul(t,r,o,u){var h=hn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var y=ht.memoizedState;if(p=y.destroy,u!==null&&hc(u,y.deps)){h.memoizedState=Uo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Uo(1|r,o,p,u)}function gd(t,r){return ll(8390656,8,t,r)}function gc(t,r){return ul(2048,8,t,r)}function yd(t,r){return ul(4,2,t,r)}function _d(t,r){return ul(4,4,t,r)}function vd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ed(t,r,o){return o=o!=null?o.concat([t]):null,ul(4,4,vd.bind(null,r,t),o)}function yc(){}function wd(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Td(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Id(t,r,o){return(Ai&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o):(An(o,r)||(o=pi(),Ke.lanes|=o,Ci|=o,t.baseState=!0),r)}function t_(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=cc.transition;cc.transition={};try{t(!1),r()}finally{Ae=o,cc.transition=u}}function Sd(){return hn().memoizedState}function n_(t,r,o){var u=Ur(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Ad(t))Cd(r,o);else if(o=Kf(t,r,o,u),o!==null){var h=Ut();xn(o,t,u,h),Rd(o,r,u)}}function r_(t,r,o){var u=Ur(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Cd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,An(w,y)){var R=r.interleaved;R===null?(h.next=h,nc(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Kf(t,r,h,u),o!==null&&(h=Ut(),xn(o,t,u,h),Rd(o,r,u))}}function Ad(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function Cd(t,r){Mo=al=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Rd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var cl={readContext:cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},i_={readContext:cn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:gd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ll(4194308,4,vd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ll(4194308,4,t,r)},useInsertionEffect:function(t,r){return ll(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=n_.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:pd,useDebugValue:yc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=pd(!1),r=t[0];return t=t_.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=Bn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));(Ai&30)!==0||ud(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,gd(hd.bind(null,u,p,t),[t]),u.flags|=2048,Uo(9,cd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=gt.identifierPrefix;if(Qe){var o=ur,u=lr;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=bo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=e_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},s_={readContext:cn,useCallback:wd,useContext:cn,useEffect:gc,useImperativeHandle:Ed,useInsertionEffect:yd,useLayoutEffect:_d,useMemo:Td,useReducer:pc,useRef:md,useState:function(){return pc(jo)},useDebugValue:yc,useDeferredValue:function(t){var r=hn();return Id(r,ht.memoizedState,t)},useTransition:function(){var t=pc(jo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:ad,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1},o_={readContext:cn,useCallback:wd,useContext:cn,useEffect:gc,useImperativeHandle:Ed,useInsertionEffect:yd,useLayoutEffect:_d,useMemo:Td,useReducer:mc,useRef:md,useState:function(){return mc(jo)},useDebugValue:yc,useDeferredValue:function(t){var r=hn();return ht===null?r.memoizedState=t:Id(r,ht.memoizedState,t)},useTransition:function(){var t=mc(jo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:ad,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1};function Rs(t,r){try{var o="",u=r;do o+=De(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function vc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var a_=typeof WeakMap=="function"?WeakMap:Map;function Pd(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){yl||(yl=!0,Oc=u),vc(t,r)},o}function kd(t,r,o){o=hr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){vc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){vc(t,r),typeof u!="function"&&(br===null?br=new Set([this]):br.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function xd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new a_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=w_.bind(null,t,r,o),r.then(t,t))}function Vd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Dd(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Lr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var l_=Te.ReactCurrentOwner,Ht=!1;function jt(t,r,o,u){r.child=t===null?sd(r,null,o,u):As(r,t.child,o,u)}function Nd(t,r,o,u,h){o=o.render;var p=r.ref;return Ss(r,h),u=fc(t,r,o,u,p,h),o=dc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Qe&&o&&Qu(r),r.flags|=1,jt(t,r,u,h),r.child)}function Od(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Fd(t,r,p,u,h)):(t=Il(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(y,u)&&t.ref===r.ref)return fr(t,r,h)}return r.flags|=1,t=Br(p,u),t.ref=r.ref,t.return=r,r.child=t}function Fd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Co(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Ht=!0);else return r.lanes=t.lanes,fr(t,r,h)}return Ec(t,r,o,u,h)}function Ld(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ks,nn),nn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ze(ks,nn),nn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,ze(ks,nn),nn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,ze(ks,nn),nn|=u;return jt(t,r,h,o),r.child}function Md(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Ec(t,r,o,u,h){var p=qt(o)?Ei:xt.current;return p=vs(r,p),Ss(r,h),o=fc(t,r,o,u,p,h),u=dc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Qe&&u&&Qu(r),r.flags|=1,jt(t,r,o,h),r.child)}function bd(t,r,o,u,h){if(qt(o)){var p=!0;Ga(r)}else p=!1;if(Ss(r,h),r.stateNode===null)fl(t,r),td(r,o,u),sc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var R=y.context,b=o.contextType;typeof b=="object"&&b!==null?b=cn(b):(b=qt(o)?Ei:xt.current,b=vs(r,b));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==b)&&nd(r,y,u,b),Fr=!1;var q=r.memoizedState;y.state=q,nl(r,u,y,h),R=r.memoizedState,w!==u||q!==R||$t.current||Fr?(typeof H=="function"&&(ic(r,o,H,u),R=r.memoizedState),(w=Fr||ed(r,o,w,u,q,R,b))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=b,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Xf(t,r),w=r.memoizedProps,b=r.type===r.elementType?w:Rn(r.type,w),y.props=b,Q=r.pendingProps,q=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=cn(R):(R=qt(o)?Ei:xt.current,R=vs(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||q!==R)&&nd(r,y,u,R),Fr=!1,q=r.memoizedState,y.state=q,nl(r,u,y,h);var ie=r.memoizedState;w!==Q||q!==ie||$t.current||Fr?(typeof Z=="function"&&(ic(r,o,Z,u),ie=r.memoizedState),(b=Fr||ed(r,o,b,u,q,ie,R)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),y.props=u,y.state=ie,y.context=R,u=b):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return wc(t,r,o,u,p,h)}function wc(t,r,o,u,h,p){Md(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Bf(r,o,!1),fr(t,r,p);u=r.stateNode,l_.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=As(r,t.child,null,p),r.child=As(r,null,w,p)):jt(t,r,w,p),r.memoizedState=u.state,h&&Bf(r,o,!0),r.child}function jd(t){var r=t.stateNode;r.pendingContext?Uf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Uf(t,r.context,!1),oc(t,r.containerInfo)}function Ud(t,r,o,u,h){return Ts(),Yu(h),r.flags|=256,jt(t,r,o,u),r.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function zd(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),ze(Ge,h&1),t===null)return Xu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Sl(y,u,0,null),t=xi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ic(o),r.memoizedState=Tc,t):Sc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return u_(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Br(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Br(w,p):(p=xi(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?Ic(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=Tc,u}return p=t.child,t=p.sibling,u=Br(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Sc(t,r){return r=Sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function hl(t,r,o,u){return u!==null&&Yu(u),As(r,t.child,null,o),t=Sc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function u_(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=_c(Error(n(422))),hl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Sl({mode:"visible",children:u.children},h,0,null),p=xi(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&As(r,t.child,null,y),r.child.memoizedState=Ic(y),r.memoizedState=Tc,p);if((r.mode&1)===0)return hl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=_c(p,u,void 0),hl(t,r,y,u)}if(w=(y&t.childLanes)!==0,Ht||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,cr(t,h),xn(u,t,h,-1))}return Uc(),u=_c(Error(n(421))),hl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=T_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,tn=Vr(h.nextSibling),en=r,Qe=!0,Cn=null,t!==null&&(ln[un++]=lr,ln[un++]=ur,ln[un++]=wi,lr=t.id,ur=t.overflow,wi=r),r=Sc(r,u.children),r.flags|=4096,r)}function Bd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),tc(t.return,r,o)}function Ac(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function $d(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(jt(t,r,u.children,o),u=Ge.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bd(t,o,r);else if(t.tag===19)Bd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(ze(Ge,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&sl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ac(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&sl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ac(r,!0,o,null,p);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ci|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Br(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Br(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function c_(t,r,o){switch(r.tag){case 3:jd(r),Ts();break;case 5:od(r);break;case 1:qt(r.type)&&Ga(r);break;case 4:oc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;ze(Za,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(ze(Ge,Ge.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?zd(t,r,o):(ze(Ge,Ge.current&1),t=fr(t,r,o),t!==null?t.sibling:null);ze(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return $d(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,Ld(t,r,o)}return fr(t,r,o)}var qd,Cc,Hd,Wd;qd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Cc=function(){},Hd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Si(zn.current);var p=null;switch(o){case"input":h=ri(t,h),u=ri(t,u),p=[];break;case"select":h=C({},h,{value:void 0}),u=C({},u,{value:void 0}),p=[];break;case"textarea":h=eo(t,h),u=eo(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ha)}oo(o,u);var y;o=null;for(b in h)if(!u.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var w=h[b];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var R=u[b];if(w=h!=null?h[b]:void 0,u.hasOwnProperty(b)&&R!==w&&(R!=null||w!=null))if(b==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(p||(p=[]),p.push(b,o)),o=R;else b==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(b,R)):b==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(b,""+R):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(R!=null&&b==="onScroll"&&$e("scroll",t),p||w===R||(p=[])):(p=p||[]).push(b,R))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},Wd=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function h_(t,r,o){var u=r.pendingProps;switch(Gu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return qt(r.type)&&Qa(),Dt(r),null;case 3:return u=r.stateNode,Cs(),qe($t),qe(xt),uc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cn!==null&&(Mc(Cn),Cn=null))),Cc(t,r),Dt(r),null;case 5:ac(r);var h=Si(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Hd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Si(zn.current),Ja(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Un]=r,u[Vo]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Po.length;h++)$e(Po[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":zi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":$i(u,p),$e("invalid",u)}oo(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&$e("scroll",u)}switch(o){case"input":Xn(u),ga(u,p,!0);break;case"textarea":Xn(u),to(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ha)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[Un]=r,t[Vo]=u,qd(t,r,!1,!1),r.stateNode=t;e:{switch(y=ao(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Po.length;h++)$e(Po[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":zi(t,u),h=ri(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=C({},u,{value:void 0}),$e("invalid",t);break;case"textarea":$i(t,u),h=eo(t,u),$e("invalid",t);break;default:h=u}oo(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?io(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&no(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Er(t,R):typeof R=="number"&&Er(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&ye(t,p,R,y))}switch(o){case"input":Xn(t),ga(t,u,!1);break;case"textarea":Xn(t),to(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Jn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Jn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ha)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Wd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Lo.current),Si(zn.current),Ja(r)){if(u=r.stateNode,o=r.memoizedProps,u[Un]=r,(p=u.nodeValue!==o)&&(t=en,t!==null))switch(t.tag){case 3:qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Un]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&tn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Gf(),Ts(),r.flags|=98560,p=!1;else if(p=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Un]=r}else Ts(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Cn!==null&&(Mc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ge.current&1)!==0?ft===0&&(ft=3):Uc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Cs(),Cc(t,r),t===null&&ko(r.stateNode.containerInfo),Dt(r),null;case 10:return ec(r.type._context),Dt(r),null;case 17:return qt(r.type)&&Qa(),Dt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)zo(p,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=sl(t),y!==null){for(r.flags|=128,zo(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ze(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&Ue()>xs&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=sl(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Qe)return Dt(r),null}else 2*Ue()-p.renderingStartTime>xs&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ue(),r.sibling=null,o=Ge.current,ze(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return jc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(nn&1073741824)!==0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function f_(t,r){switch(Gu(r),r.tag){case 1:return qt(r.type)&&Qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cs(),qe($t),qe(xt),uc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ac(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ts()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return Cs(),null;case 10:return ec(r.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var dl=!1,Nt=!1,d_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ps(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ye(t,r,u)}else o.current=null}function Rc(t,r,o){try{o()}catch(u){Ye(t,r,u)}}var Qd=!1;function p_(t,r){if(ju=Pr,t=Sf(),Vu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,R=-1,b=0,H=0,Q=t,q=null;t:for(;;){for(var Z;Q!==o||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(Z=Q.firstChild)!==null;)q=Q,Q=Z;for(;;){if(Q===t)break t;if(q===o&&++b===h&&(w=y),q===p&&++H===u&&(R=y),(Z=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Uu={focusedElem:t,selectionRange:o},Pr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,tt=ie.memoizedState,L=r.stateNode,P=L.getSnapshotBeforeUpdate(r.elementType===r.type?oe:Rn(r.type,oe),tt);L.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Ye(r,r.return,G)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return ie=Qd,Qd=!1,ie}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Rc(r,o,p)}h=h.next}while(h!==u)}}function pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Pc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Gd(t){var r=t.alternate;r!==null&&(t.alternate=null,Gd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Un],delete r[Vo],delete r[qu],delete r[Xy],delete r[Yy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kd(t){return t.tag===5||t.tag===3||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ha));else if(u!==4&&(t=t.child,t!==null))for(kc(t,r,o),t=t.sibling;t!==null;)kc(t,r,o),t=t.sibling}function xc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(xc(t,r,o),t=t.sibling;t!==null;)xc(t,r,o),t=t.sibling}var Tt=null,Pn=!1;function Mr(t,r,o){for(o=o.child;o!==null;)Yd(t,r,o),o=o.sibling}function Yd(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Nt||Ps(o,r);case 6:var u=Tt,h=Pn;Tt=null,Mr(t,r,o),Tt=u,Pn=h,Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?$u(t.parentNode,o):t.nodeType===1&&$u(t,o),In(t)):$u(Tt,o.stateNode));break;case 4:u=Tt,h=Pn,Tt=o.stateNode.containerInfo,Pn=!0,Mr(t,r,o),Tt=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Rc(o,r,y),h=h.next}while(h!==u)}Mr(t,r,o);break;case 1:if(!Nt&&(Ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Ye(o,r,w)}Mr(t,r,o);break;case 21:Mr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Mr(t,r,o),Nt=u):Mr(t,r,o);break;default:Mr(t,r,o)}}function Jd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new d_),r.forEach(function(u){var h=I_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:Tt=w.stateNode,Pn=!1;break e;case 3:Tt=w.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(Tt===null)throw Error(n(160));Yd(p,y,h),Tt=null,Pn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(b){Ye(h,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Zd(r,t),r=r.sibling}function Zd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),$n(t),u&4){try{Bo(3,t,t.return),pl(3,t)}catch(oe){Ye(t,t.return,oe)}try{Bo(5,t,t.return)}catch(oe){Ye(t,t.return,oe)}}break;case 1:kn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return);break;case 5:if(kn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return),t.flags&32){var h=t.stateNode;try{Er(h,"")}catch(oe){Ye(t,t.return,oe)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Js(h,p),ao(w,y);var b=ao(w,p);for(y=0;y<R.length;y+=2){var H=R[y],Q=R[y+1];H==="style"?io(h,Q):H==="dangerouslySetInnerHTML"?no(h,Q):H==="children"?Er(h,Q):ye(h,H,Q,b)}switch(w){case"input":Zs(h,p);break;case"textarea":qi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Jn(h,!!p.multiple,Z,!1):q!==!!p.multiple&&(p.defaultValue!=null?Jn(h,!!p.multiple,p.defaultValue,!0):Jn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Vo]=p}catch(oe){Ye(t,t.return,oe)}}break;case 6:if(kn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(kn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(oe){Ye(t,t.return,oe)}break;case 4:kn(r,t),$n(t);break;case 13:kn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Nc=Ue())),u&4&&Jd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(b=Nt)||H,kn(r,t),Nt=b):kn(r,t),$n(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!H&&(t.mode&1)!==0)for(ne=t,H=t.child;H!==null;){for(Q=ne=H;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Bo(4,q,q.return);break;case 1:Ps(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(oe){Ye(u,o,oe)}}break;case 5:Ps(q,q.return);break;case 22:if(q.memoizedState!==null){np(Q);continue}}Z!==null?(Z.return=q,ne=Z):np(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,b?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=ro("display",y))}catch(oe){Ye(t,t.return,oe)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(oe){Ye(t,t.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:kn(r,t),$n(t),u&4&&Jd(t);break;case 21:break;default:kn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Kd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Er(h,""),u.flags&=-33);var p=Xd(t);xc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Xd(t);kc(t,w,y);break;default:throw Error(n(161))}}catch(R){Ye(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function m_(t,r,o){ne=t,ep(t)}function ep(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||dl;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Nt;w=dl;var b=Nt;if(dl=y,(Nt=R)&&!b)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?rp(h):R!==null?(R.return=y,ne=R):rp(h);for(;p!==null;)ne=p,ep(p),p=p.sibling;ne=h,dl=w,Nt=b}tp(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):tp(t)}}function tp(t){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Nt||pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Jf(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Jf(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var H=b.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&In(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Pc(r)}catch(q){Ye(r,r.return,q)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function np(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function rp(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{pl(4,r)}catch(R){Ye(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Ye(r,h,R)}}var p=r.return;try{Pc(r)}catch(R){Ye(r,p,R)}break;case 5:var y=r.return;try{Pc(r)}catch(R){Ye(r,y,R)}}}catch(R){Ye(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var g_=Math.ceil,ml=Te.ReactCurrentDispatcher,Vc=Te.ReactCurrentOwner,fn=Te.ReactCurrentBatchConfig,Ve=0,gt=null,it=null,It=0,nn=0,ks=Dr(0),ft=0,$o=null,Ci=0,gl=0,Dc=0,qo=null,Wt=null,Nc=0,xs=1/0,dr=null,yl=!1,Oc=null,br=null,_l=!1,jr=null,vl=0,Ho=0,Fc=null,El=-1,wl=0;function Ut(){return(Ve&6)!==0?Ue():El!==-1?El:El=Ue()}function Ur(t){return(t.mode&1)===0?1:(Ve&2)!==0&&It!==0?It&-It:Zy.transition!==null?(wl===0&&(wl=pi()),wl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:vo(t.type)),t)}function xn(t,r,o,u){if(50<Ho)throw Ho=0,Fc=null,Error(n(185));Sr(t,o,u),((Ve&2)===0||t!==gt)&&(t===gt&&((Ve&2)===0&&(gl|=o),ft===4&&zr(t,It)),Qt(t,u),o===1&&Ve===0&&(r.mode&1)===0&&(xs=Ue()+500,Ka&&Or()))}function Qt(t,r){var o=t.callbackNode;tr(t,r);var u=di(t,t===gt?It:0);if(u===0)o!==null&&po(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&po(o),r===1)t.tag===0?Jy(sp.bind(null,t)):$f(sp.bind(null,t)),Gy(function(){(Ve&6)===0&&Or()}),o=null;else{switch(Cr(u)){case 1:o=hi;break;case 4:o=wr;break;case 16:o=sn;break;case 536870912:o=wa;break;default:o=sn}o=dp(o,ip.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function ip(t,r){if(El=-1,wl=0,(Ve&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Vs()&&t.callbackNode!==o)return null;var u=di(t,t===gt?It:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Tl(t,u);else{r=u;var h=Ve;Ve|=2;var p=ap();(gt!==t||It!==r)&&(dr=null,xs=Ue()+500,Pi(t,r));do try{v_();break}catch(w){op(t,w)}while(!0);Zu(),ml.current=p,Ve=h,it!==null?r=0:(gt=null,It=0,r=ft)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Lc(t,h))),r===1)throw o=$o,Pi(t,0),zr(t,u),Qt(t,Ue()),o;if(r===6)zr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!y_(h)&&(r=Tl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Lc(t,p))),r===1))throw o=$o,Pi(t,0),zr(t,u),Qt(t,Ue()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ki(t,Wt,dr);break;case 3:if(zr(t,u),(u&130023424)===u&&(r=Nc+500-Ue(),10<r)){if(di(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Bu(ki.bind(null,t,Wt,dr),r);break}ki(t,Wt,dr);break;case 4:if(zr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Mt(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=Ue()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*g_(u/1960))-u,10<u){t.timeoutHandle=Bu(ki.bind(null,t,Wt,dr),u);break}ki(t,Wt,dr);break;case 5:ki(t,Wt,dr);break;default:throw Error(n(329))}}}return Qt(t,Ue()),t.callbackNode===o?ip.bind(null,t):null}function Lc(t,r){var o=qo;return t.current.memoizedState.isDehydrated&&(Pi(t,r).flags|=256),t=Tl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Mc(r)),t}function Mc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function y_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(t,r){for(r&=~Dc,r&=~gl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function sp(t){if((Ve&6)!==0)throw Error(n(327));Vs();var r=di(t,0);if((r&1)===0)return Qt(t,Ue()),null;var o=Tl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Lc(t,u))}if(o===1)throw o=$o,Pi(t,0),zr(t,r),Qt(t,Ue()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ki(t,Wt,dr),Qt(t,Ue()),null}function bc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(xs=Ue()+500,Ka&&Or())}}function Ri(t){jr!==null&&jr.tag===0&&(Ve&6)===0&&Vs();var r=Ve;Ve|=1;var o=fn.transition,u=Ae;try{if(fn.transition=null,Ae=1,t)return t()}finally{Ae=u,fn.transition=o,Ve=r,(Ve&6)===0&&Or()}}function jc(){nn=ks.current,qe(ks)}function Pi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Qy(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Gu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Qa();break;case 3:Cs(),qe($t),qe(xt),uc();break;case 5:ac(u);break;case 4:Cs();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:ec(u.type._context);break;case 22:case 23:jc()}o=o.return}if(gt=t,it=t=Br(t.current,null),It=nn=r,ft=0,$o=null,Dc=gl=Ci=0,Wt=qo=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}Ii=null}return t}function op(t,r){do{var o=it;try{if(Zu(),ol.current=cl,al){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}al=!1}if(Ai=0,mt=ht=Ke=null,Mo=!1,bo=0,Vc.current=null,o===null||o.return===null){ft=1,$o=r,it=null;break}e:{var p=t,y=o.return,w=o,R=r;if(r=It,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var b=R,H=w,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Vd(y);if(Z!==null){Z.flags&=-257,Dd(Z,y,w,p,r),Z.mode&1&&xd(p,b,r),r=Z,R=b;var ie=r.updateQueue;if(ie===null){var oe=new Set;oe.add(R),r.updateQueue=oe}else ie.add(R);break e}else{if((r&1)===0){xd(p,b,r),Uc();break e}R=Error(n(426))}}else if(Qe&&w.mode&1){var tt=Vd(y);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Dd(tt,y,w,p,r),Yu(Rs(R,w));break e}}p=R=Rs(R,w),ft!==4&&(ft=2),qo===null?qo=[p]:qo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=Pd(p,R,r);Yf(p,L);break e;case 1:w=R;var P=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(br===null||!br.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=kd(p,w,r);Yf(p,G);break e}}p=p.return}while(p!==null)}up(o)}catch(ae){r=ae,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function ap(){var t=ml.current;return ml.current=cl,t===null?cl:t}function Uc(){(ft===0||ft===3||ft===2)&&(ft=4),gt===null||(Ci&268435455)===0&&(gl&268435455)===0||zr(gt,It)}function Tl(t,r){var o=Ve;Ve|=2;var u=ap();(gt!==t||It!==r)&&(dr=null,Pi(t,r));do try{__();break}catch(h){op(t,h)}while(!0);if(Zu(),Ve=o,ml.current=u,it!==null)throw Error(n(261));return gt=null,It=0,ft}function __(){for(;it!==null;)lp(it)}function v_(){for(;it!==null&&!va();)lp(it)}function lp(t){var r=fp(t.alternate,t,nn);t.memoizedProps=t.pendingProps,r===null?up(t):it=r,Vc.current=null}function up(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=h_(o,r,nn),o!==null){it=o;return}}else{if(o=f_(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,it=null;return}}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ft===0&&(ft=5)}function ki(t,r,o){var u=Ae,h=fn.transition;try{fn.transition=null,Ae=1,E_(t,r,o,u)}finally{fn.transition=h,Ae=u}return null}function E_(t,r,o,u){do Vs();while(jr!==null);if((Ve&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===gt&&(it=gt=null,It=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||_l||(_l=!0,dp(sn,function(){return Vs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=fn.transition,fn.transition=null;var y=Ae;Ae=1;var w=Ve;Ve|=4,Vc.current=null,p_(t,o),Zd(o,t),Uy(Uu),Pr=!!ju,Uu=ju=null,t.current=o,m_(o),Iu(),Ve=w,Ae=y,fn.transition=p}else t.current=o;if(_l&&(_l=!1,jr=t,vl=h),p=t.pendingLanes,p===0&&(br=null),Ta(o.stateNode),Qt(t,Ue()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(yl)throw yl=!1,t=Oc,Oc=null,t;return(vl&1)!==0&&t.tag!==0&&Vs(),p=t.pendingLanes,(p&1)!==0?t===Fc?Ho++:(Ho=0,Fc=t):Ho=0,Or(),null}function Vs(){if(jr!==null){var t=Cr(vl),r=fn.transition,o=Ae;try{if(fn.transition=null,Ae=16>t?16:t,jr===null)var u=!1;else{if(t=jr,jr=null,vl=0,(Ve&6)!==0)throw Error(n(331));var h=Ve;for(Ve|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if((ne.flags&16)!==0){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var b=w[R];for(ne=b;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Bo(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,ne=Q;else for(;ne!==null;){H=ne;var q=H.sibling,Z=H.return;if(Gd(H),H===b){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var ie=p.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var tt=oe.sibling;oe.sibling=null,oe=tt}while(oe!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){y=ne;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,ne=M;else e:for(y=P;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:pl(9,w)}}catch(ae){Ye(w,w.return,ae)}if(w===y){ne=null;break e}var G=w.sibling;if(G!==null){G.return=w.return,ne=G;break e}ne=w.return}}if(Ve=h,Or(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(fi,t)}catch{}u=!0}return u}finally{Ae=o,fn.transition=r}}return!1}function cp(t,r,o){r=Rs(o,r),r=Pd(t,r,1),t=Lr(t,r,1),r=Ut(),t!==null&&(Sr(t,1,r),Qt(t,r))}function Ye(t,r,o){if(t.tag===3)cp(t,t,o);else for(;r!==null;){if(r.tag===3){cp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){t=Rs(o,t),t=kd(r,t,1),r=Lr(r,t,1),t=Ut(),r!==null&&(Sr(r,1,t),Qt(r,t));break}}r=r.return}}function w_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(It&o)===o&&(ft===4||ft===3&&(It&130023424)===It&&500>Ue()-Nc?Pi(t,0):Dc|=o),Qt(t,r)}function hp(t,r){r===0&&((t.mode&1)===0?r=1:(r=es,es<<=1,(es&130023424)===0&&(es=4194304)));var o=Ut();t=cr(t,r),t!==null&&(Sr(t,r,o),Qt(t,o))}function T_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),hp(t,o)}function I_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),hp(t,o)}var fp;fp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Ht=!1,c_(t,r,o);Ht=(t.flags&131072)!==0}else Ht=!1,Qe&&(r.flags&1048576)!==0&&qf(r,Ya,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;fl(t,r),t=r.pendingProps;var h=vs(r,xt.current);Ss(r,o),h=fc(null,r,u,t,h,o);var p=dc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ga(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,rc(r),h.updater=rl,r.stateNode=h,h._reactInternals=r,sc(r,u,t,o),r=wc(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&Qu(r),jt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(fl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=A_(u),t=Rn(u,t),h){case 0:r=Ec(null,r,u,t,o);break e;case 1:r=bd(null,r,u,t,o);break e;case 11:r=Nd(null,r,u,t,o);break e;case 14:r=Od(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Ec(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),bd(t,r,u,h,o);case 3:e:{if(jd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Xf(t,r),nl(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Rs(Error(n(423)),r),r=Ud(t,r,u,o,h);break e}else if(u!==h){h=Rs(Error(n(424)),r),r=Ud(t,r,u,o,h);break e}else for(tn=Vr(r.stateNode.containerInfo.firstChild),en=r,Qe=!0,Cn=null,o=sd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),u===h){r=fr(t,r,o);break e}jt(t,r,u,o)}r=r.child}return r;case 5:return od(r),t===null&&Xu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,zu(u,h)?y=null:p!==null&&zu(u,p)&&(r.flags|=32),Md(t,r),jt(t,r,y,o),r.child;case 6:return t===null&&Xu(r),null;case 13:return zd(t,r,o);case 4:return oc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=As(r,null,u,o):jt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Nd(t,r,u,h,o);case 7:return jt(t,r,r.pendingProps,o),r.child;case 8:return jt(t,r,r.pendingProps.children,o),r.child;case 12:return jt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,ze(Za,u._currentValue),u._currentValue=y,p!==null)if(An(p.value,y)){if(p.children===h.children&&!$t.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=hr(-1,o&-o),R.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var H=b.pending;H===null?R.next=R:(R.next=H.next,H.next=R),b.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),tc(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),tc(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}jt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Ss(r,o),h=cn(h),u=u(h),r.flags|=1,jt(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Od(t,r,u,h,o);case 15:return Fd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),fl(t,r),r.tag=1,qt(u)?(t=!0,Ga(r)):t=!1,Ss(r,o),td(r,u,h),sc(r,u,h,o),wc(null,r,u,!0,t,o);case 19:return $d(t,r,o);case 22:return Ld(t,r,o)}throw Error(n(156,r.tag))};function dp(t,r){return Ji(t,r)}function S_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,o,u){return new S_(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A_(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===Rt)return 14}return 2}function Br(t,r){var o=t.alternate;return o===null?(o=dn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Il(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case V:return xi(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=dn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=dn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=dn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case be:return Sl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:y=10;break e;case D:y=9;break e;case O:y=11;break e;case Rt:y=14;break e;case Pt:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=dn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function xi(t,r,o,u){return t=dn(7,t,u,r),t.lanes=o,t}function Sl(t,r,o,u){return t=dn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function Bc(t,r,o){return t=dn(6,t,null,r),t.lanes=o,t}function $c(t,r,o){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function C_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function qc(t,r,o,u,h,p,y,w,R){return t=new C_(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=dn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(p),t}function R_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function pp(t){if(!t)return Nr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return zf(t,o,r)}return r}function mp(t,r,o,u,h,p,y,w,R){return t=qc(o,u,!0,t,h,p,y,w,R),t.context=pp(null),o=t.current,u=Ut(),h=Ur(o),p=hr(u,h),p.callback=r??null,Lr(o,p,h),t.current.lanes=h,Sr(t,h,u),Qt(t,u),t}function Al(t,r,o,u){var h=r.current,p=Ut(),y=Ur(h);return o=pp(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Lr(h,r,y),t!==null&&(xn(t,h,y,p),tl(t,h,y)),y}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Hc(t,r){gp(t,r),(t=t.alternate)&&gp(t,r)}function P_(){return null}var yp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wc(t){this._internalRoot=t}Rl.prototype.render=Wc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Al(t,r,null,null)},Rl.prototype.unmount=Wc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ri(function(){Al(null,t,null,null)}),r[or]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ra();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Ln.length&&r!==0&&r<Ln[o].priority;o++);Ln.splice(o,0,t),o===0&&xa(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _p(){}function k_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var b=Cl(y);p.call(b)}}var y=mp(r,u,t,0,null,!1,!1,"",_p);return t._reactRootContainer=y,t[or]=y.current,ko(t.nodeType===8?t.parentNode:t),Ri(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var b=Cl(R);w.call(b)}}var R=qc(t,0,!1,null,null,!1,!1,"",_p);return t._reactRootContainer=R,t[or]=R.current,ko(t.nodeType===8?t.parentNode:t),Ri(function(){Al(r,R,o,u)}),R}function kl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=Cl(y);w.call(R)}}Al(r,y,t,h)}else y=k_(o,r,t,h,u);return Cl(y)}Aa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Tr(r.pendingLanes);o!==0&&(Ar(r,o|1),Qt(r,Ue()),(Ve&6)===0&&(xs=Ue()+500,Or()))}break;case 13:Ri(function(){var u=cr(t,1);if(u!==null){var h=Ut();xn(u,t,1,h)}}),Hc(t,1)}},ts=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=Ut();xn(r,t,134217728,o)}Hc(t,134217728)}},Ca=function(t){if(t.tag===13){var r=Ur(t),o=cr(t,r);if(o!==null){var u=Ut();xn(o,t,r,u)}Hc(t,r)}},Ra=function(){return Ae},Pa=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},Wi=function(t,r,o){switch(r){case"input":if(Zs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Wa(u);if(!h)throw Error(n(90));Ui(u),Zs(u,h)}}}break;case"textarea":qi(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},ai=bc,uo=Ri;var x_={usingClientEntryPoint:!1,Events:[Do,ys,Wa,On,lo,bc]},Wo={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},V_={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fo(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||P_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{fi=xl.inject(V_),Xt=xl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(r))throw Error(n(200));return R_(t,r,null,o)},Gt.createRoot=function(t,r){if(!Qc(t))throw Error(n(299));var o=!1,u="",h=yp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=qc(t,1,!1,null,null,o,!1,u,h),t[or]=r.current,ko(t.nodeType===8?t.parentNode:t),new Wc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=fo(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ri(t)},Gt.hydrate=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Qc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=yp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=mp(r,null,t,1,o??null,h,!1,p,y),t[or]=r.current,ko(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Rl(r)},Gt.render=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(n(40));return t._reactRootContainer?(Ri(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Gt.unstable_batchedUpdates=bc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Pl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return kl(t,r,o,!1,u)},Gt.version="18.2.0-next-9e3b772b8-20220608",Gt}var Cp;function U_(){if(Cp)return Xc.exports;Cp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xc.exports=j_(),Xc.exports}var Rp;function z_(){if(Rp)return Vl;Rp=1;var i=U_();return Vl.createRoot=i.createRoot,Vl.hydrateRoot=i.hydrateRoot,Vl}var B_=z_();const $_=Um(B_),q_=({children:i,variant:e="primary",className:n="",...s})=>{const a="px-4 py-2 rounded-md font-semibold text-sm transition-all duration-300 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#101010]",c={primary:"bg-[#10219F] text-[#F7F7FF] hover:bg-[#000000] focus:ring-[#10219F] disabled:bg-[#BDD5EA] disabled:cursor-not-allowed",secondary:"bg-[#FE5F55] text-[#F7F7FF] hover:bg-[#10219F] focus:ring-[#FE5F55]",ghost:"bg-transparent text-[#000000] hover:bg-[#BDD5EA] hover:text-[#000000] focus:ring-[#10219F]"};return se.jsx("button",{className:`${a} ${c[e]} ${n}`,...s,children:i})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=()=>{};var Pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},W_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],g=i[n++],_=((a&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Bm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,g=f?i[a+1]:0,_=a+2<i.length,E=_?i[a+2]:0,I=c>>2,x=(c&3)<<4|g>>4;let N=(g&15)<<2|E>>6,B=E&63;_||(B=64,f||(N=64)),s.push(n[I],n[x],n[N],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(zm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):W_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const x=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||E==null||x==null)throw new Q_;const N=c<<2|g>>4;if(s.push(N),E!==64){const B=g<<4&240|E>>2;if(s.push(B),x!==64){const K=E<<6&192|x;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Q_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G_=function(i){const e=zm(i);return Bm.encodeByteArray(e,!0)},Hl=function(i){return G_(i).replace(/\./g,"")},K_=function(i){try{return Bm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=()=>X_().__FIREBASE_DEFAULTS__,J_=()=>{if(typeof process>"u"||typeof Pp>"u")return;const i=Pp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Z_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&K_(i[1]);return e&&JSON.parse(e)},Vh=()=>{try{return H_()||Y_()||J_()||Z_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ev=i=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},tv=i=>{const e=ev(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$m=()=>{var i;return(i=Vh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(f)),""].join(".")}const Yo={};function sv(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?i.emulator.push(e):i.prod.push(e);return i}function ov(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kp=!1;function av(i,e){if(typeof window>"u"||typeof document>"u"||!Dh(window.location.host)||Yo[i]===e||Yo[i]||kp)return;Yo[i]=e;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=sv().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function E(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{kp=!0,f()},N}function I(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=ov(s),B=n("text"),K=document.getElementById(B)||document.createElement("span"),X=n("learnmore"),W=document.getElementById(X)||document.createElement("a"),ve=n("preprendIcon"),pe=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ye=N.element;g(ye),I(W,X);const Te=E();_(pe,ve),ye.append(pe,K,W,Te),document.body.appendChild(ye)}c?(K.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uv(){var i;const e=(i=Vh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cv(){return!uv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hv(){try{return typeof indexedDB=="object"}catch{return!1}}function fv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dv,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qm.prototype.create)}}class qm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?pv(c,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new Ws(a,g,s)}}function pv(i,e){return i.replace(mv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const mv=/\{\$([^}]+)}/g;function Wl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(xp(c)&&xp(f)){if(!Wl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function xp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(i){return i&&i._delegate?i._delegate:i}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_v(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yv(i){return i===Vi?void 0:i}function _v(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const Ev={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},wv=Pe.INFO,Tv={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Iv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Tv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=wv,this._logHandler=Iv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ev[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Sv=(i,e)=>e.some(n=>i instanceof n);let Vp,Dp;function Av(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cv(){return Dp||(Dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wm=new WeakMap,ah=new WeakMap,Qm=new WeakMap,Zc=new WeakMap,Nh=new WeakMap;function Rv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Hr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Wm.set(n,i)}).catch(()=>{}),Nh.set(e,i),e}function Pv(i){if(ah.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ah.set(i,e)}let lh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kv(i){lh=i(lh)}function xv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(eh(this),e,...n);return Qm.set(s,e.sort?e.sort():[e]),Hr(s)}:Cv().includes(i)?function(...e){return i.apply(eh(this),e),Hr(Wm.get(this))}:function(...e){return Hr(i.apply(eh(this),e))}}function Vv(i){return typeof i=="function"?xv(i):(i instanceof IDBTransaction&&Pv(i),Sv(i,Av())?new Proxy(i,lh):i)}function Hr(i){if(i instanceof IDBRequest)return Rv(i);if(Zc.has(i))return Zc.get(i);const e=Vv(i);return e!==i&&(Zc.set(i,e),Nh.set(e,i)),e}const eh=i=>Nh.get(i);function Dv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),g=Hr(f);return s&&f.addEventListener("upgradeneeded",_=>{s(Hr(f.result),_.oldVersion,_.newVersion,Hr(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Nv=["get","getKey","getAll","getAllKeys","count"],Ov=["put","add","delete","clear"],th=new Map;function Np(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(th.get(e))return th.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Ov.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Nv.includes(n)))return;const c=async function(f,...g){const _=this.transaction(f,a?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),a&&_.done]))[0]};return th.set(e,c),c}kv(i=>({...i,get:(e,n,s)=>Np(e,n)||i.get(e,n,s),has:(e,n)=>!!Np(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Lv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uh="@firebase/app",Op="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Hm("@firebase/app"),Mv="@firebase/app-compat",bv="@firebase/analytics-compat",jv="@firebase/analytics",Uv="@firebase/app-check-compat",zv="@firebase/app-check",Bv="@firebase/auth",$v="@firebase/auth-compat",qv="@firebase/database",Hv="@firebase/data-connect",Wv="@firebase/database-compat",Qv="@firebase/functions",Gv="@firebase/functions-compat",Kv="@firebase/installations",Xv="@firebase/installations-compat",Yv="@firebase/messaging",Jv="@firebase/messaging-compat",Zv="@firebase/performance",e0="@firebase/performance-compat",t0="@firebase/remote-config",n0="@firebase/remote-config-compat",r0="@firebase/storage",i0="@firebase/storage-compat",s0="@firebase/firestore",o0="@firebase/ai",a0="@firebase/firestore-compat",l0="firebase",u0="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",c0={[uh]:"fire-core",[Mv]:"fire-core-compat",[jv]:"fire-analytics",[bv]:"fire-analytics-compat",[zv]:"fire-app-check",[Uv]:"fire-app-check-compat",[Bv]:"fire-auth",[$v]:"fire-auth-compat",[qv]:"fire-rtdb",[Hv]:"fire-data-connect",[Wv]:"fire-rtdb-compat",[Qv]:"fire-fn",[Gv]:"fire-fn-compat",[Kv]:"fire-iid",[Xv]:"fire-iid-compat",[Yv]:"fire-fcm",[Jv]:"fire-fcm-compat",[Zv]:"fire-perf",[e0]:"fire-perf-compat",[t0]:"fire-rc",[n0]:"fire-rc-compat",[r0]:"fire-gcs",[i0]:"fire-gcs-compat",[s0]:"fire-fst",[a0]:"fire-fst-compat",[o0]:"fire-vertex","fire-js":"fire-js",[l0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,h0=new Map,hh=new Map;function Fp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Gl(i){const e=i.name;if(hh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,i);for(const n of Ql.values())Fp(n,i);for(const n of h0.values())Fp(n,i);return!0}function f0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function d0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new qm("app","Firebase",p0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=u0;function Gm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ch,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Wr.create("bad-app-name",{appName:String(a)});if(n||(n=$m()),!n)throw Wr.create("no-options");const c=Ql.get(a);if(c){if(Wl(n,c.options)&&Wl(s,c.config))return c;throw Wr.create("duplicate-app",{appName:a})}const f=new vv(a);for(const _ of hh.values())f.addComponent(_);const g=new m0(n,s,f);return Ql.set(a,g),g}function y0(i=ch){const e=Ql.get(i);if(!e&&i===ch&&$m())return Gm();if(!e)throw Wr.create("no-app",{appName:i});return e}function Ls(i,e,n){var s;let a=(s=c0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(g.join(" "));return}Gl(new na(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebase-heartbeat-database",v0=1,ra="firebase-heartbeat-store";let nh=null;function Km(){return nh||(nh=Dv(_0,v0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),nh}async function E0(i){try{const n=(await Km()).transaction(ra),s=await n.objectStore(ra).get(Xm(i));return await n.done,s}catch(e){if(e instanceof Ws)gr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Lp(i,e){try{const s=(await Km()).transaction(ra,"readwrite");await s.objectStore(ra).put(e,Xm(i)),await s.done}catch(n){if(n instanceof Ws)gr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function Xm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=1024,T0=30;class I0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Mp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>T0){const f=C0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mp(),{heartbeatsToSend:s,unsentEntries:a}=S0(this._heartbeatsCache.heartbeats),c=Hl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return gr.warn(n),""}}}function Mp(){return new Date().toISOString().substring(0,10)}function S0(i,e=w0){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),bp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class A0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hv()?fv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bp(i){return Hl(JSON.stringify({version:2,heartbeats:i})).length}function C0(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i){Gl(new na("platform-logger",e=>new Fv(e),"PRIVATE")),Gl(new na("heartbeat",e=>new I0(e),"PRIVATE")),Ls(uh,Op,i),Ls(uh,Op,"esm2017"),Ls("fire-js","")}R0("");var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,Ym;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function A(){}A.prototype=T.prototype,V.D=T.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(k,D,O){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return T.prototype[D].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,T,A){A||(A=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=V.g[0],A=V.g[1],D=V.g[2];var O=V.g[3],S=T+(O^A&(D^O))+k[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=O+(D^T&(A^D))+k[1]+3905402710&4294967295,O=T+(S<<12&4294967295|S>>>20),S=D+(A^O&(T^A))+k[2]+606105819&4294967295,D=O+(S<<17&4294967295|S>>>15),S=A+(T^D&(O^T))+k[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(O^A&(D^O))+k[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(D^T&(A^D))+k[5]+1200080426&4294967295,O=T+(S<<12&4294967295|S>>>20),S=D+(A^O&(T^A))+k[6]+2821735955&4294967295,D=O+(S<<17&4294967295|S>>>15),S=A+(T^D&(O^T))+k[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(O^A&(D^O))+k[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(D^T&(A^D))+k[9]+2336552879&4294967295,O=T+(S<<12&4294967295|S>>>20),S=D+(A^O&(T^A))+k[10]+4294925233&4294967295,D=O+(S<<17&4294967295|S>>>15),S=A+(T^D&(O^T))+k[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(O^A&(D^O))+k[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(D^T&(A^D))+k[13]+4254626195&4294967295,O=T+(S<<12&4294967295|S>>>20),S=D+(A^O&(T^A))+k[14]+2792965006&4294967295,D=O+(S<<17&4294967295|S>>>15),S=A+(T^D&(O^T))+k[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(D^O&(A^D))+k[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^D&(T^A))+k[6]+3225465664&4294967295,O=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(O^T))+k[11]+643717713&4294967295,D=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(D^O))+k[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^O&(A^D))+k[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^D&(T^A))+k[10]+38016083&4294967295,O=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(O^T))+k[15]+3634488961&4294967295,D=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(D^O))+k[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^O&(A^D))+k[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^D&(T^A))+k[14]+3275163606&4294967295,O=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(O^T))+k[3]+4107603335&4294967295,D=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(D^O))+k[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^O&(A^D))+k[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^D&(T^A))+k[2]+4243563512&4294967295,O=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(O^T))+k[7]+1735328473&4294967295,D=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(D^O))+k[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(A^D^O)+k[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^D)+k[8]+2272392833&4294967295,O=T+(S<<11&4294967295|S>>>21),S=D+(O^T^A)+k[11]+1839030562&4294967295,D=O+(S<<16&4294967295|S>>>16),S=A+(D^O^T)+k[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^O)+k[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^D)+k[4]+1272893353&4294967295,O=T+(S<<11&4294967295|S>>>21),S=D+(O^T^A)+k[7]+4139469664&4294967295,D=O+(S<<16&4294967295|S>>>16),S=A+(D^O^T)+k[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^O)+k[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^D)+k[0]+3936430074&4294967295,O=T+(S<<11&4294967295|S>>>21),S=D+(O^T^A)+k[3]+3572445317&4294967295,D=O+(S<<16&4294967295|S>>>16),S=A+(D^O^T)+k[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^O)+k[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^D)+k[12]+3873151461&4294967295,O=T+(S<<11&4294967295|S>>>21),S=D+(O^T^A)+k[15]+530742520&4294967295,D=O+(S<<16&4294967295|S>>>16),S=A+(D^O^T)+k[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(D^(A|~O))+k[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~D))+k[7]+1126891415&4294967295,O=T+(S<<10&4294967295|S>>>22),S=D+(T^(O|~A))+k[14]+2878612391&4294967295,D=O+(S<<15&4294967295|S>>>17),S=A+(O^(D|~T))+k[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~O))+k[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~D))+k[3]+2399980690&4294967295,O=T+(S<<10&4294967295|S>>>22),S=D+(T^(O|~A))+k[10]+4293915773&4294967295,D=O+(S<<15&4294967295|S>>>17),S=A+(O^(D|~T))+k[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~O))+k[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~D))+k[15]+4264355552&4294967295,O=T+(S<<10&4294967295|S>>>22),S=D+(T^(O|~A))+k[6]+2734768916&4294967295,D=O+(S<<15&4294967295|S>>>17),S=A+(O^(D|~T))+k[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~O))+k[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~D))+k[11]+3174756917&4294967295,O=T+(S<<10&4294967295|S>>>22),S=D+(T^(O|~A))+k[2]+718787259&4294967295,D=O+(S<<15&4294967295|S>>>17),S=A+(O^(D|~T))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+O&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var A=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=A;)a(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<T;)if(k[D++]=V.charCodeAt(O++),D==this.blockSize){a(this,k),D=0;break}}else for(;O<T;)if(k[D++]=V[O++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var A=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=A&255,A/=256;for(this.u(V),V=Array(16),T=A=0;4>T;++T)for(var k=0;32>k;k+=8)V[A++]=this.g[T]>>>k&255;return V};function c(V,T){var A=g;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=T(V)}function f(V,T){this.h=T;for(var A=[],k=!0,D=V.length-1;0<=D;D--){var O=V[D]|0;k&&O==T||(A[D]=O,k=!1)}this.g=A}var g={};function _(V){return-128<=V&&128>V?c(V,function(T){return new f([T|0],0>T?-1:0)}):new f([V|0],0>V?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return x;if(0>V)return W(E(-V));for(var T=[],A=1,k=0;V>=A;k++)T[k]=V/A|0,A*=4294967296;return new f(T,0)}function I(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return W(I(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),k=x,D=0;D<V.length;D+=8){var O=Math.min(8,V.length-D),S=parseInt(V.substring(D,D+O),T);8>O?(O=E(Math.pow(T,O)),k=k.j(O).add(E(S))):(k=k.j(A),k=k.add(E(S)))}return k}var x=_(0),N=_(1),B=_(16777216);i=f.prototype,i.m=function(){if(X(this))return-W(this).m();for(var V=0,T=1,A=0;A<this.g.length;A++){var k=this.i(A);V+=(0<=k?k:4294967296+k)*T,T*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(X(this))return"-"+W(this).toString(V);for(var T=E(Math.pow(V,6)),A=this,k="";;){var D=Te(A,T).g;A=ve(A,D.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=D,K(A))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function X(V){return V.h==-1}i.l=function(V){return V=ve(this,V),X(V)?-1:K(V)?0:1};function W(V){for(var T=V.g.length,A=[],k=0;k<T;k++)A[k]=~V.g[k];return new f(A,~V.h).add(N)}i.abs=function(){return X(this)?W(this):this},i.add=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(V.i(D)&65535),S=(O>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);k=S>>>16,O&=65535,S&=65535,A[D]=S<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ve(V,T){return V.add(W(T))}i.j=function(V){if(K(this)||K(V))return x;if(X(this))return X(V)?W(this).j(W(V)):W(W(this).j(V));if(X(V))return W(this.j(W(V)));if(0>this.l(B)&&0>V.l(B))return E(this.m()*V.m());for(var T=this.g.length+V.g.length,A=[],k=0;k<2*T;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<V.g.length;D++){var O=this.i(k)>>>16,S=this.i(k)&65535,Ze=V.i(D)>>>16,Rt=V.i(D)&65535;A[2*k+2*D]+=S*Rt,pe(A,2*k+2*D),A[2*k+2*D+1]+=O*Rt,pe(A,2*k+2*D+1),A[2*k+2*D+1]+=S*Ze,pe(A,2*k+2*D+1),A[2*k+2*D+2]+=O*Ze,pe(A,2*k+2*D+2)}for(k=0;k<T;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=T;k<2*T;k++)A[k]=0;return new f(A,0)};function pe(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function ye(V,T){this.g=V,this.h=T}function Te(V,T){if(K(T))throw Error("division by zero");if(K(V))return new ye(x,x);if(X(V))return T=Te(W(V),T),new ye(W(T.g),W(T.h));if(X(T))return T=Te(V,W(T)),new ye(W(T.g),T.h);if(30<V.g.length){if(X(V)||X(T))throw Error("slowDivide_ only works with positive integers.");for(var A=N,k=T;0>=k.l(V);)A=Je(A),k=Je(k);var D=ke(A,1),O=ke(k,1);for(k=ke(k,2),A=ke(A,2);!K(k);){var S=O.add(k);0>=S.l(V)&&(D=D.add(A),O=S),k=ke(k,1),A=ke(A,1)}return T=ve(V,D.j(T)),new ye(D,T)}for(D=x;0<=V.l(T);){for(A=Math.max(1,Math.floor(V.m()/T.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=E(A),S=O.j(T);X(S)||0<S.l(V);)A-=k,O=E(A),S=O.j(T);K(O)&&(O=N),D=D.add(O),V=ve(V,S)}return new ye(D,V)}i.A=function(V){return Te(this,V).h},i.and=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)&V.i(k);return new f(A,this.h&V.h)},i.or=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)|V.i(k);return new f(A,this.h|V.h)},i.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)^V.i(k);return new f(A,this.h^V.h)};function Je(V){for(var T=V.g.length+1,A=[],k=0;k<T;k++)A[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(A,V.h)}function ke(V,T){var A=T>>5;T%=32;for(var k=V.g.length-A,D=[],O=0;O<k;O++)D[O]=0<T?V.i(O+A)>>>T|V.i(O+A+1)<<32-T:V.i(O+A);return new f(D,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ym=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,Qr=f}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jm,Go,Zm,jl,fh,eg,tg,ng;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dl=="object"&&Dl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var m=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var F=l[v];if(!(F in m))break e;m=m[F]}l=l[l.length-1],v=m[l],d=d(v),d!=v&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var m=0,v=!1,F={next:function(){if(!v&&m<l.length){var j=m++;return{value:d(j,l[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function _(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,m){return l.call.apply(l.bind,arguments)}function x(l,d,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,v),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function N(l,d,m){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:x,N.apply(null,arguments)}function B(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function K(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,F,j){for(var Y=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Y[Me-2]=arguments[Me];return d.prototype[F].apply(v,Y)}}function X(l){const d=l.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=l[v];return m}return[]}function W(l,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const F=l.length||0,j=v.length||0;l.length=F+j;for(let Y=0;Y<j;Y++)l[F+Y]=v[Y]}else l.push(v)}}class ve{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function pe(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function Te(l){return Te[" "](l),l}Te[" "]=function(){};var Je=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function ke(l,d,m){for(const v in l)d.call(m,l[v],v,l)}function V(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function T(l){const d={};for(const m in l)d[m]=l[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let m,v;for(let F=1;F<arguments.length;F++){v=arguments[F];for(m in v)l[m]=v[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function D(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function O(l){g.setTimeout(()=>{throw l},0)}function S(){var l=ue;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,m){const v=Rt.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Rt=new ve(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let be,J=!1,ue=new Ze,C=()=>{const l=g.Promise.resolve(void 0);be=()=>{l.then($)}};var $=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){O(m)}var d=Rt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return l}();function De(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Te(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&De.aa.h.call(this)}}K(De,fe);var xe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function kt(l,d,m,v,F){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=F,this.key=++Oe,this.da=this.fa=!1}function ji(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xn(l){this.src=l,this.g={},this.h=0}Xn.prototype.add=function(l,d,m,v,F){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Y=vr(l,d,v,F);return-1<Y?(d=l[Y],m||(d.fa=!1)):(d=new kt(d,this.src,j,!!v,F),d.fa=m,l.push(d)),d};function Ui(l,d){var m=d.type;if(m in l.g){var v=l.g[m],F=Array.prototype.indexOf.call(v,d,void 0),j;(j=0<=F)&&Array.prototype.splice.call(v,F,1),j&&(ji(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function vr(l,d,m,v){for(var F=0;F<l.length;++F){var j=l[F];if(!j.da&&j.listener==d&&j.capture==!!m&&j.ha==v)return F}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),zi={};function Js(l,d,m,v,F){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Js(l,d[j],m,v,F);return null}return m=to(m),l&&l[Ne]?l.K(d,m,E(v)?!!v.capture:!1,F):Zs(l,d,m,!1,v,F)}function Zs(l,d,m,v,F,j){if(!d)throw Error("Invalid event type");var Y=E(F)?!!F.capture:!!F,Me=$i(l);if(Me||(l[ri]=Me=new Xn(l)),m=Me.add(d,m,v,Y,j),m.proxy)return m;if(v=ga(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)Ee||(F=Y),F===void 0&&(F=!1),l.addEventListener(d.toString(),v,F);else if(l.attachEvent)l.attachEvent(Jn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ga(){function l(m){return d.call(l.src,l.listener,m)}const d=eo;return l}function Bi(l,d,m,v,F){if(Array.isArray(d))for(var j=0;j<d.length;j++)Bi(l,d[j],m,v,F);else v=E(v)?!!v.capture:!!v,m=to(m),l&&l[Ne]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],m=vr(j,m,v,F),-1<m&&(ji(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=$i(l))&&(d=l.g[d.toString()],l=-1,d&&(l=vr(d,m,v,F)),(m=-1<l?d[l]:null)&&Yn(m))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ne])Ui(d.i,l);else{var m=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(m,v,l.capture):d.detachEvent?d.detachEvent(Jn(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=$i(d))?(Ui(m,l),m.h==0&&(m.src=null,d[ri]=null)):ji(l)}}}function Jn(l){return l in zi?zi[l]:zi[l]="on"+l}function eo(l,d){if(l.da)l=!0;else{d=new De(d,this);var m=l.listener,v=l.ha||l.src;l.fa&&Yn(l),l=m.call(v,d)}return l}function $i(l){return l=l[ri],l instanceof Xn?l:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(l){return typeof l=="function"?l:(l[qi]||(l[qi]=function(d){return l.handleEvent(d)}),l[qi])}function lt(){re.call(this),this.i=new Xn(this),this.M=this,this.F=null}K(lt,re),lt.prototype[Ne]=!0,lt.prototype.removeEventListener=function(l,d,m,v){Bi(this,l,d,m,v)};function ut(l,d){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var F=d;d=new fe(v,l),k(d,F)}if(F=!0,m)for(var j=m.length-1;0<=j;j--){var Y=d.g=m[j];F=Zn(Y,v,!0,d)&&F}if(Y=d.g=l,F=Zn(Y,v,!0,d)&&F,F=Zn(Y,v,!1,d)&&F,m)for(j=0;j<m.length;j++)Y=d.g=m[j],F=Zn(Y,v,!1,d)&&F}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],v=0;v<m.length;v++)ji(m[v]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,m,v){return this.i.add(String(l),d,!1,m,v)},lt.prototype.L=function(l,d,m,v){return this.i.add(String(l),d,!0,m,v)};function Zn(l,d,m,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,j=0;j<d.length;++j){var Y=d[j];if(Y&&!Y.da&&Y.capture==m){var Me=Y.listener,ct=Y.ha||Y.src;Y.fa&&Ui(l.i,Y),F=Me.call(ct,v)!==!1&&F}}return F&&!v.defaultPrevented}function no(l,d,m){if(typeof l=="function")m&&(l=N(l,m));else if(l&&typeof l.handleEvent=="function")l=N(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(l,d||0)}function Er(l){l.g=no(()=>{l.g=null,l.i&&(l.i=!1,Er(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ii extends re{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(l){re.call(this),this.h=l,this.g={}}K(si,re);var ro=[];function io(l){ke(l.g,function(d,m){this.g.hasOwnProperty(m)&&Yn(d)},l),l.g={}}si.prototype.N=function(){si.aa.N.call(this),io(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=g.JSON.stringify,oo=g.JSON.parse,ao=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function oi(){}oi.prototype.h=null;function Hi(l){return l.h||(l.h=l.i())}function Wi(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){fe.call(this,"d")}K(Nn,fe);function Qi(){fe.call(this,"c")}K(Qi,fe);var On={},lo=null;function ai(){return lo=lo||new lt}On.La="serverreachability";function uo(l){fe.call(this,On.La,l)}K(uo,fe);function er(l){const d=ai();ut(d,new uo(d))}On.STAT_EVENT="statevent";function co(l,d){fe.call(this,On.STAT_EVENT,l),this.stat=d}K(co,fe);function et(l){const d=ai();ut(d,new co(d,l))}On.Ma="timingevent";function Gi(l,d){fe.call(this,On.Ma,l),this.size=d}K(Gi,fe);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},d)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(l,d,m,v,F,j){l.info(function(){if(l.g)if(j)for(var Y="",Me=j.split("&"),ct=0;ct<Me.length;ct++){var Ce=Me[ct].split("=");if(1<Ce.length){var pt=Ce[0];Ce=Ce[1];var rt=pt.split("_");Y=2<=rt.length&&rt[1]=="type"?Y+(pt+"="+Ce+"&"):Y+(pt+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+v+") [attempt "+F+"]: "+d+`
`+m+`
`+Y})}function Ki(l,d,m,v,F,j,Y){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+F+"]: "+d+`
`+m+`
`+j+" "+Y})}function yn(l,d,m,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Tu(l,m)+(v?" "+v:"")})}function ho(l,d){l.info(function(){return"TIMEOUT: "+d})}li.prototype.info=function(){};function Tu(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var F=v[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<F.length;Y++)F[Y]=""}}}}return so(m)}catch{return d}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function ci(){}K(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},_n=new ci;function vn(l,d,m,v){this.j=l,this.i=d,this.l=m,this.R=v||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var fo={},Yi={};function Ji(l,d,m){l.L=1,l.v=Ar(Yt(d)),l.m=m,l.P=!0,po(l,null)}function po(l,d){l.F=Date.now(),Ue(l),l.A=Yt(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Rr(m.i,"t",v),l.C=0,m=l.j.J,l.h=new _a,l.g=La(l.j,m?d:null,!l.m),0<l.O&&(l.M=new ii(N(l.Y,l,l.g),l.O)),d=l.U,m=l.g,v=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ro[0]=F.toString()),F=ro);for(var j=0;j<F.length;j++){var Y=Js(m,F[j],v||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),er(),ui(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Bt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=Bt(this.g);var d=this.g.Ba();const an=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||rt!=4||d==7||(d==8||0>=an?er(3):er(2)),hi(this);var m=this.g.Z();this.X=m;t:if(va(this)){var v=Eo(this.g);l="";var F=v.length,j=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),wr(this);var Y="";break t}this.h.i=new g.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(j&&d==F-1)});v.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,Ki(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ct=this.g;if((Me=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Me)){var Ce=Me;break t}}Ce=null}if(m=Ce)yn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,m);else{this.o=!1,this.s=3,et(12),sn(this),wr(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<Y.length;)if(Zt=Iu(this,Y),Zt==Yi){rt==4&&(this.s=4,et(14),m=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==fo){this.s=4,et(15),yn(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else yn(this.i,this.l,Zt,null),mo(this,Zt);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||Y.length!=0||this.h.h||(this.s=1,et(16),m=!1),this.o=this.o&&m,!m)yn(this.i,this.l,Y,"[Invalid Chunked Response]"),sn(this),wr(this);else if(0<Y.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),To(pt),pt.M=!0,et(11))}}else yn(this.i,this.l,Y,null),mo(this,Y);rt==4&&sn(this),this.o&&!this.J&&(rt==4?us(this.j,this):(this.o=!1,Ue(this)))}else is(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),sn(this),wr(this)}}}catch{}finally{}};function va(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Iu(l,d){var m=l.C,v=d.indexOf(`
`,m);return v==-1?Yi:(m=Number(d.substring(m,v)),isNaN(m)?fo:(v+=1,v+m>d.length?Yi:(d=d.slice(v,v+m),l.C=v+m,d)))}vn.prototype.cancel=function(){this.J=!0,sn(this)};function Ue(l){l.S=Date.now()+l.I,Ea(l,l.I)}function Ea(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(N(l.ba,l),d)}function hi(l){l.B&&(g.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ho(this.i,this.A),this.L!=2&&(er(),et(17)),sn(this),this.s=2,wr(this)):Ea(this,this.S-l)};function wr(l){l.j.G==0||l.J||us(l.j,l)}function sn(l){hi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,io(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function mo(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Mt(m.h,l))){if(!l.K&&Mt(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var F=v;if(F[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)ls(m),Sn(m);else break e;as(m),et(18)}}else m.za=F[1],0<m.za-m.T&&37500>F[2]&&m.F&&m.v==0&&!m.C&&(m.C=gn(N(m.Za,m),6e3));if(1>=Ta(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else sr(m,11)}else if((l.K||m.g==l)&&ls(m),!pe(d))for(F=m.Da.g.parse(d),d=0;d<F.length;d++){let Ce=F[d];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const pt=Ce[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=Ce[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const an=Ce[5];an!=null&&typeof an=="number"&&0<an&&(v=1.5*an,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Zt=l.g;if(Zt){const _i=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var j=v.h;j.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(go(j,j.h),j.h=null))}if(v.D){const hs=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(v.ya=hs,je(v.I,v.D,hs))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var Y=l;if(v.qa=Fa(v,v.J?v.ia:null,v.W),Y.K){Ia(v.h,Y);var Me=Y,ct=v.L;ct&&(Me.I=ct),Me.B&&(hi(Me),Ue(Me)),v.g=Y}else yi(v);0<m.i.length&&bn(m)}else Ce[0]!="stop"&&Ce[0]!="close"||sr(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?sr(m,7):wt(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}er(4)}catch{}}var wa=class{constructor(l,d){this.g=l,this.map=d}};function fi(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ta(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function go(l,d){l.g?l.g.add(d):l.h=d}function Ia(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}fi.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return X(l.i)}function Zi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var d=[],m=l.length,v=0;v<m;v++)d.push(l[v]);return d}d=[],m=0;for(v in l)d[m++]=l[v];return d}function es(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const v in l)d[m++]=v;return d}}}function Tr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=es(l),v=Zi(l),F=v.length,j=0;j<F;j++)d.call(void 0,v[j],m&&m[j],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),F=null;if(0<=v){var j=l[m].substring(0,v);F=l[m].substring(v+1)}else j=l[m];d(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,pi(this,l.j),this.o=l.o,this.g=l.g,Ir(this,l.s),this.l=l.l;var d=l.i,m=new Fn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Sr(this,m),this.m=l.m}else l&&(d=String(l).match(di))?(this.h=!1,pi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),Ir(this,d[4]),this.l=Ae(d[5]||"",!0),Sr(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}tr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Cr(d,ts,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Cr(d,ts,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Cr(m,m.charAt(0)=="/"?Ra:Ca,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Cr(m,yo)),l.join("")};function Yt(l){return new tr(l)}function pi(l,d,m){l.j=m?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ir(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Sr(l,d,m){d instanceof Fn?(l.i=d,Ln(l.i,l.h)):(m||(d=Cr(d,Pa)),l.i=new Fn(d,l.h))}function je(l,d,m){l.i.set(d,m)}function Ar(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,Aa),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Aa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ts=/[#\/\?@]/g,Ca=/[#\?:]/g,Ra=/[#\?]/g,Pa=/[#\?@]/g,yo=/#/g;function Fn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&Su(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=Fn.prototype,i.add=function(l,d){Et(this),this.i=null,l=on(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function En(l,d){Et(l),d=on(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Et(l),d=on(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(m,v){m.forEach(function(F){l.call(d,F,v,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const F=l[v];for(let j=0;j<F.length;j++)m.push(d[v])}return m},i.V=function(l){Et(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(on(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},i.set=function(l,d){return Et(this),this.i=null,l=on(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Rr(l,d,m){En(l,d),0<m.length&&(l.i=null,l.g.set(on(l,d),X(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const j=encodeURIComponent(String(v)),Y=this.V(v);for(v=0;v<Y.length;v++){var F=j;Y[v]!==""&&(F+="="+encodeURIComponent(String(Y[v]))),l.push(F)}}return this.i=l.join("&")};function on(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Ln(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(m,v){var F=v.toLowerCase();v!=F&&(En(this,v),Rr(this,F,m))},l)),l.j=d}function Au(l,d){const m=new li;if(g.Image){const v=new Image;v.onload=B(zt,m,"TestLoadImage: loaded",!0,d,v),v.onerror=B(zt,m,"TestLoadImage: error",!1,d,v),v.onabort=B(zt,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=B(zt,m,"TestLoadImage: timeout",!1,d,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function ka(l,d){const m=new li,v=new AbortController,F=setTimeout(()=>{v.abort(),zt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(j=>{clearTimeout(F),j.ok?zt(m,"TestPingServer: ok",!0,d):zt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),zt(m,"TestPingServer: error",!1,d)})}function zt(l,d,m,v,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),v(m)}catch{}}function Cu(){this.g=new ao}function xa(l,d,m){const v=m||"";try{Tr(l,function(F,j){let Y=F;E(F)&&(Y=so(F)),d.push(v+j+"="+encodeURIComponent(Y))})}catch(F){throw d.push(v+"type="+encodeURIComponent("_badmap")),F}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}K(nr,oi),nr.prototype.g=function(){return new mi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function mi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(mi,lt),i=mi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Va(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Va(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Va(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let d="";return ke(l,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function Pr(l,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=rr(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):je(l,d,m))}function We(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(We,lt);var Ru=/^https?$/i,_o=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Hi(this.o):Hi(_n),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){gi(this,j);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var F in v)m.set(F,v[F]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())m.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),F=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(_o,d,void 0))||v||F||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of m)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){gi(this,j)}};function gi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ns(l),Jt(l)}function ns(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},i.bb=function(){vo(this)};function vo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)no(l.Ea,0,l);else if(ut(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=Y===0){var F=String(l.D).match(di)[1]||null;!F&&g.self&&g.self.location&&(F=g.self.location.protocol.slice(0,-1)),v=!Ru.test(F?F.toLowerCase():"")}m=v}if(m)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<Bt(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",ns(l)}}finally{Jt(l)}}}}function Jt(l,d){if(l.g){rs(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{m.onreadystatechange=v}catch{}}}function rs(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),oo(d)}};function Eo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function is(l){const d={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(pe(l[v]))continue;var m=D(l[v]);const F=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=d[F]||[];d[F]=j,j.push(m)}V(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function wo(l){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(l&&l.concurrentRequestLimit),this.Da=new Cu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wo.prototype,i.la=8,i.G=1,i.connect=function(l,d,m,v){et(0),this.W=l,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Fa(this,null,this.W),bn(this)};function wt(l){if(ss(l),l.G==3){var d=l.U++,m=Yt(l.I);if(je(m,"SID",l.K),je(m,"RID",d),je(m,"TYPE","terminate"),ir(l,m),d=new vn(l,l.j,d),d.L=2,d.v=Ar(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=La(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ue(d)}Oa(l)}function Sn(l){l.g&&(To(l),l.g.cancel(),l.g=null)}function ss(l){Sn(l),l.u&&(g.clearTimeout(l.u),l.u=null),ls(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function bn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;be||C(),J||(be(),J=!0),ue.add(d,l),l.B=0}}function Pu(l,d){return Ta(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(N(l.Ga,l,d),Na(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new vn(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=kr(this,F,d),m=Yt(this.I),je(m,"RID",l),je(m,"CVER",22),this.D&&je(m,"X-HTTP-Session-Id",this.D),ir(this,m),j&&(this.O?d="headers="+encodeURIComponent(String(rr(j)))+"&"+d:this.m&&Pr(m,this.m,j)),go(this.h,F),this.Ua&&je(m,"TYPE","init"),this.P?(je(m,"$req",d),je(m,"SID","null"),F.T=!0,Ji(F,m,null)):Ji(F,m,d),this.G=2}}else this.G==3&&(l?os(this,l):this.i.length==0||Xt(this.h)||os(this))};function os(l,d){var m;d?m=d.l:m=l.U++;const v=Yt(l.I);je(v,"SID",l.K),je(v,"RID",m),je(v,"AID",l.T),ir(l,v),l.m&&l.o&&Pr(v,l.m,l.o),m=new vn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=kr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),go(l.h,m),Ji(m,v,d)}function ir(l,d){l.H&&ke(l.H,function(m,v){je(d,v,m)}),l.l&&Tr({},function(m,v){je(d,v,m)})}function kr(l,d,m){m=Math.min(l.i.length,m);var v=l.l?N(l.l.Na,l.l,l):null;e:{var F=l.i;let j=-1;for(;;){const Y=["count="+m];j==-1?0<m?(j=F[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let Me=!0;for(let ct=0;ct<m;ct++){let Ce=F[ct].g;const pt=F[ct].map;if(Ce-=j,0>Ce)j=Math.max(0,F[ct].g-100),Me=!1;else try{xa(pt,Y,"req"+Ce+"_")}catch{v&&v(pt)}}if(Me){v=Y.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,v}function yi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;be||C(),J||(be(),J=!0),ue.add(d,l),l.v=0}}function as(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(N(l.Fa,l),Na(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Da(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(N(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Sn(this),Da(this))};function To(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Da(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Yt(l.qa);je(d,"RID","rpc"),je(d,"SID",l.K),je(d,"AID",l.T),je(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(d,"TO",l.ja),je(d,"TYPE","xmlhttp"),ir(l,d),l.m&&l.o&&Pr(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ar(Yt(d)),m.m=null,m.P=!0,po(m,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),as(this),et(19))};function ls(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function us(l,d){var m=null;if(l.g==d){ls(l),To(l),l.g=null;var v=2}else if(Mt(l.h,d))m=d.D,Ia(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;v=ai(),ut(v,new Gi(v,m)),bn(l)}else yi(l);else if(F=d.s,F==3||F==0&&0<d.X||!(v==1&&Pu(l,d)||v==2&&as(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),F){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Na(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function sr(l,d){if(l.j.info("Error code "+d),d==2){var m=N(l.fb,l),v=l.Xa;const F=!v;v=new tr(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||pi(v,"https"),Ar(v),F?Au(v.toString(),m):ka(v.toString(),m)}else et(2);l.G=0,l.l&&l.l.sa(d),Oa(l),ss(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Oa(l){if(l.G=0,l.ka=[],l.l){const d=Sa(l.h);(d.length!=0||l.i.length!=0)&&(W(l.ka,d),W(l.ka,l.i),l.h.i.length=0,X(l.i),l.i.length=0),l.l.ra()}}function Fa(l,d,m){var v=m instanceof tr?Yt(m):new tr(m);if(v.g!="")d&&(v.g=d+"."+v.g),Ir(v,v.s);else{var F=g.location;v=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var j=new tr(null);v&&pi(j,v),d&&(j.g=d),F&&Ir(j,F),m&&(j.l=m),v=j}return m=l.D,d=l.ya,m&&d&&je(v,m,d),je(v,"VER",l.la),ir(l,v),v}function La(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new nr({eb:m})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}i=Io.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function cs(){}cs.prototype.g=function(l,d){return new bt(l,d)};function bt(l,d){lt.call(this),this.g=new wo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!pe(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!pe(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new jn(this)}K(bt,lt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){wt(this.g)},bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=so(l),l=m);d.i.push(new wa(d.Ya++,l)),d.G==3&&bn(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,bt.aa.N.call(this)};function Ma(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}K(Ma,Nn);function ba(){Qi.call(this),this.status=1}K(ba,Qi);function jn(l){this.g=l}K(jn,Io),jn.prototype.ua=function(){ut(this.g,"a")},jn.prototype.ta=function(l){ut(this.g,new Ma(l))},jn.prototype.sa=function(l){ut(this.g,new ba)},jn.prototype.ra=function(){ut(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,ng=function(){return new cs},tg=function(){return ai()},eg=On,fh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,jl=Xi,ya.COMPLETE="complete",Zm=ya,Wi.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Go=Wi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Jm=We}).apply(typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{});const Up="@firebase/firestore",zp="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Hm("@firebase/firestore");function Ds(){return Ni.logLevel}function ee(i,...e){if(Ni.logLevel<=Pe.DEBUG){const n=e.map(Oh);Ni.debug(`Firestore (${Qs}): ${i}`,...n)}}function yr(i,...e){if(Ni.logLevel<=Pe.ERROR){const n=e.map(Oh);Ni.error(`Firestore (${Qs}): ${i}`,...n)}}function Xr(i,...e){if(Ni.logLevel<=Pe.WARN){const n=e.map(Oh);Ni.warn(`Firestore (${Qs}): ${i}`,...n)}}function Oh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rg(i,s,n)}function rg(i,e,n){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Le(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||rg(e,a,s)}function _e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class k0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x0{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},g=_=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string",31837,{l:s}),new ig(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class V0{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D0{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new V0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,d0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const s=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=O0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function we(i,e){return i<e?-1:i>e?1:0}function dh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return we(s,a);{const c=sg(),f=F0(c.encode($p(i,n)),c.encode($p(e,n)));return f!==0?f:we(s,a)}}n+=s>65535?2:1}return we(i.length,e.length)}function $p(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function F0(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return we(i[n],e[n]);return we(i.length,e.length)}function zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&de(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return we(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):dh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class Be extends qn{construct(e,n,s){return new Be(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(U.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const L0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends qn{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return L0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qp}static keyField(){return new At([qp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new te(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new te(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(c(),a++)}if(c(),f)throw new te(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Be.fromString(e))}static fromName(e){return new le(Be.fromString(e).popFirst(5))}static empty(){return new le(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e,n){if(!n)throw new te(U.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function M0(i,e,n,s){if(e===!0&&s===!0)throw new te(U.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Hp(i){if(!le.isDocumentKey(i))throw new te(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(le.isDocumentKey(i))throw new te(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ag(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function lu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de(12329,{type:typeof i})}function Kl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new te(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lu(i);throw new te(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(i,e){const n={typeString:i};return e&&(n.value=e),n}function ca(i,e){if(!ag(i))throw new te(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(a&&typeof f!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new te(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-62135596800,Gp=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Gp);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qp)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gp}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ca(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:at("string",He._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new He(0,0))}static max(){return new ge(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=-1;function b0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ge.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Yr(a,le.empty(),e)}function j0(i){return new Yr(i.readTime,i.key,ia)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(ge.min(),le.empty(),ia)}static max(){return new Yr(ge.max(),le.empty(),ia)}}function U0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:we(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(i){if(i.code!==U.FAILED_PRECONDITION||i.message!==z0)throw i;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,s)=>{n(e)})}static reject(e){return new z((n,s)=>{s(e)})}static waitFor(e){return new z((n,s)=>{let a=0,c=0,f=!1;e.forEach(g=>{++a,g.next(()=>{++c,f&&c===a&&n()},_=>s(_))}),f=!0,c===a&&n()})}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next(a=>a?z.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new z((s,a)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const E=_;n(e[E]).next(I=>{f[E]=I,++g,g===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new z((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function $0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ks(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}uu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function cu(i){return i==null}function Xl(i){return i===0&&1/i==-1/0}function q0(i){return typeof i=="number"&&Number.isInteger(i)&&!Xl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="";function H0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Kp(e)),e=W0(i.get(n),e);return Kp(e)}function W0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case lg:n+="";break;default:n+=c}}return n}function Kp(i){return i+lg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Fi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ug(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yp(this.data.getIterator())}getIteratorFrom(e){return new Yp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Yp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new dt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new cg("Invalid base64 string: "+c):c}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const Q0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Le(!!i,39018),typeof i=="string"){let e=0;const n=Q0.exec(i);if(Le(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Ct.fromBase64String(i):Ct.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="server_timestamp",fg="__type__",dg="__previous_value__",pg="__local_write_time__";function Mh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[fg])===null||n===void 0?void 0:n.stringValue)===hg}function hu(i){const e=i.mapValue.fields[dg];return Mh(e)?hu(e):e}function sa(i){const e=Jr(i.mapValue.fields[pg].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,s,a,c,f,g,_,E,I){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=I}}const Yl="(default)";class oa{constructor(e,n){this.projectId=e,this.database=n||Yl}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database===Yl}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="__type__",K0="__max__",Ol={mapValue:{}},gg="__vector__",Jl="value";function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mh(i)?4:Y0(i)?9007199254740991:X0(i)?10:11:de(28295,{value:i})}function Kn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sa(i).isEqual(sa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Jr(a.timestampValue),g=Jr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Zr(a.bytesValue).isEqual(Zr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),g=nt(c.doubleValue);return f===g?Xl(f)===Xl(g):isNaN(f)&&isNaN(g)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Xp(f)!==Xp(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Kn(f[_],g[_])))return!1;return!0}(i,e);default:return de(52216,{left:i})}}function aa(i,e){return(i.values||[]).find(n=>Kn(n,e))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return we(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(i.booleanValue,e.booleanValue);case 2:return function(c,f){const g=nt(c.integerValue||c.doubleValue),_=nt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(i,e);case 3:return Jp(i.timestampValue,e.timestampValue);case 4:return Jp(sa(i),sa(e));case 5:return dh(i.stringValue,e.stringValue);case 6:return function(c,f){const g=Zr(c),_=Zr(f);return g.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),_=f.split("/");for(let E=0;E<g.length&&E<_.length;E++){const I=we(g[E],_[E]);if(I!==0)return I}return we(g.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const g=we(nt(c.latitude),nt(f.latitude));return g!==0?g:we(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Zp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var g,_,E,I;const x=c.fields||{},N=f.fields||{},B=(g=x[Jl])===null||g===void 0?void 0:g.arrayValue,K=(_=N[Jl])===null||_===void 0?void 0:_.arrayValue,X=we(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((I=K==null?void 0:K.values)===null||I===void 0?void 0:I.length)||0);return X!==0?X:Zp(B,K)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ol.mapValue&&f===Ol.mapValue)return 0;if(c===Ol.mapValue)return 1;if(f===Ol.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),E=f.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let x=0;x<_.length&&x<I.length;++x){const N=dh(_[x],I[x]);if(N!==0)return N;const B=Bs(g[_[x]],E[I[x]]);if(B!==0)return B}return we(_.length,I.length)}(i.mapValue,e.mapValue);default:throw de(23264,{le:n})}}function Jp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return we(i,e);const n=Jr(i),s=Jr(e),a=we(n.seconds,s.seconds);return a!==0?a:we(n.nanos,s.nanos)}function Zp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return we(n.length,s.length)}function $s(i){return ph(i)}function ph(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return le.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ph(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ph(n.fields[f])}`;return a+"}"}(i.mapValue):de(61005,{value:i})}function Ul(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hu(i);return e?16+Ul(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ul(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Fi(s.fields,(c,f)=>{a+=c.length+Ul(f)}),a}(i.mapValue);default:throw de(13486,{value:i})}}function em(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function mh(i){return!!i&&"integerValue"in i}function bh(i){return!!i&&"arrayValue"in i}function tm(i){return!!i&&"nullValue"in i}function nm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zl(i){return!!i&&"mapValue"in i}function X0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[mg])===null||n===void 0?void 0:n.stringValue)===gg}function Jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Y0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===K0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=Jo(f):a.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];zl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Fi(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new pn(Jo(this.value))}}function yg(i){const e=[];return Fi(i.fields,(n,s)=>{const a=new At([n]);if(zl(s)){const c=yg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,s,a,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,ge.min(),ge.min(),ge.min(),pn.empty(),0)}static newFoundDocument(e,n,s,a){return new Lt(e,1,n,ge.min(),s,a,0)}static newNoDocument(e,n){return new Lt(e,2,n,ge.min(),ge.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,ge.min(),ge.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.position=e,this.inclusive=n}}function rm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(f.referenceValue),n.key):s=Bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function im(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function J0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{}class ot extends _g{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eE(e,n,s):n==="array-contains"?new rE(e,s):n==="in"?new iE(e,s):n==="not-in"?new sE(e,s):n==="array-contains-any"?new oE(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tE(e,s):new nE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends _g{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Dn(e,n)}matches(e){return vg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vg(i){return i.op==="and"}function Eg(i){return Z0(i)&&vg(i)}function Z0(i){for(const e of i.filters)if(e instanceof Dn)return!1;return!0}function gh(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(Eg(i))return i.filters.map(e=>gh(e)).join(",");{const e=i.filters.map(n=>gh(n)).join(",");return`${i.op}(${e})`}}function wg(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Kn(s.value,a.value)}(i,e):i instanceof Dn?function(s,a){return a instanceof Dn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,g)=>c&&wg(f,a.filters[g]),!0):!1}(i,e):void de(19439)}function Tg(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Tg).join(" ,")+"}"}(i):"Filter"}class eE extends ot{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class tE extends ot{constructor(e,n){super(e,"in",n),this.keys=Ig("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nE extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Ig("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ig(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class rE extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bh(n)&&aa(n.arrayValue,this.value)}}class iE extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class sE extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!aa(this.value.arrayValue,n)}}class oE extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n=null,s=[],a=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=g,this.Pe=null}}function sm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new aE(i,e,n,s,a,c,f)}function jh(i){const e=_e(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>gh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.Pe=n}return e.Pe}function Uh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!J0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!im(i.startAt,e.startAt)&&im(i.endAt,e.endAt)}function yh(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,s=[],a=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lE(i,e,n,s,a,c,f,g){return new ha(i,e,n,s,a,c,f,g)}function Sg(i){return new ha(i)}function om(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ag(i){return i.collectionGroup!==null}function Zo(i){const e=_e(i);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new dt(At.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new eu(c,s))}),n.has(At.keyField().canonicalString())||e.Te.push(new eu(At.keyField(),s))}return e.Te}function Hn(i){const e=_e(i);return e.Ie||(e.Ie=uE(e,Zo(i))),e.Ie}function uE(i,e){if(i.limitType==="F")return sm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new eu(a.field,c)});const n=i.endAt?new Zl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zl(i.startAt.position,i.startAt.inclusive):null;return sm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function _h(i,e){const n=i.filters.concat([e]);return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function vh(i,e,n){return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function fu(i,e){return Uh(Hn(i),Hn(e))&&i.limitType===e.limitType}function Cg(i){return`${jh(Hn(i))}|lt:${i.limitType}`}function Ns(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Tg(a)).join(", ")}]`),cu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Hn(i))}; limitType=${i.limitType})`}function du(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,g,_){const E=rm(f,g,_);return f.inclusive?E<=0:E<0}(s.startAt,Zo(s),a)||s.endAt&&!function(f,g,_){const E=rm(f,g,_);return f.inclusive?E>=0:E>0}(s.endAt,Zo(s),a))}(i,e)}function cE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Rg(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=hE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function hE(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(c,f,g){const _=f.data.field(c),E=g.data.field(c);return _!==null&&E!==null?Bs(_,E):de(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ug(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Xe(le.comparator);function _r(){return fE}const Pg=new Xe(le.comparator);function Ko(...i){let e=Pg;for(const n of i)e=e.insert(n.key,n);return e}function kg(i){let e=Pg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Di(){return ea()}function xg(){return ea()}function ea(){return new Li(i=>i.toString(),(i,e)=>i.isEqual(e))}const dE=new Xe(le.comparator),pE=new dt(le.comparator);function Se(...i){let e=pE;for(const n of i)e=e.add(n);return e}const mE=new dt(we);function gE(){return mE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(e)?"-0":e}}function Vg(i){return{integerValue:""+i}}function yE(i,e){return q0(e)?Vg(e):zh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this._=void 0}}function _E(i,e,n){return i instanceof tu?function(a,c){const f={fields:{[fg]:{stringValue:hg},[pg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Mh(c)&&(c=hu(c)),c&&(f.fields[dg]=c),{mapValue:f}}(n,e):i instanceof la?Ng(i,e):i instanceof ua?Og(i,e):function(a,c){const f=Dg(a,c),g=am(f)+am(a.Ee);return mh(f)&&mh(a.Ee)?Vg(g):zh(a.serializer,g)}(i,e)}function vE(i,e,n){return i instanceof la?Ng(i,e):i instanceof ua?Og(i,e):n}function Dg(i,e){return i instanceof nu?function(s){return mh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class tu extends pu{}class la extends pu{constructor(e){super(),this.elements=e}}function Ng(i,e){const n=Fg(e);for(const s of i.elements)n.some(a=>Kn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ua extends pu{constructor(e){super(),this.elements=e}}function Og(i,e){let n=Fg(e);for(const s of i.elements)n=n.filter(a=>!Kn(a,s));return{arrayValue:{values:n}}}class nu extends pu{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function am(i){return nt(i.integerValue||i.doubleValue)}function Fg(i){return bh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function EE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof la&&a instanceof la||s instanceof ua&&a instanceof ua?zs(s.elements,a.elements,Kn):s instanceof nu&&a instanceof nu?Kn(s.Ee,a.Ee):s instanceof tu&&a instanceof tu}(i.transform,e.transform)}class wE{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mu{}function Lg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bg(i.key,mr.none()):new fa(i.key,i.data,mr.none());{const n=i.data,s=pn.empty();let a=new dt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Mi(i.key,s,new Vn(a.toArray()),mr.none())}}function TE(i,e,n){i instanceof fa?function(a,c,f){const g=a.value.clone(),_=um(a.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Mi?function(a,c,f){if(!Bl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const g=um(a.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(Mg(a)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof fa?function(c,f,g,_){if(!Bl(c.precondition,f))return g;const E=c.value.clone(),I=cm(c.fieldTransforms,_,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Mi?function(c,f,g,_){if(!Bl(c.precondition,f))return g;const E=cm(c.fieldTransforms,_,f),I=f.data;return I.setAll(Mg(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(x=>x.field))}(i,e,n,s):function(c,f,g){return Bl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(i,e,n)}function IE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Dg(s.transform,a||null);c!=null&&(n===null&&(n=pn.empty()),n.set(s.field,c))}return n||null}function lm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zs(s,a,(c,f)=>EE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fa extends mu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends mu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Mg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function um(i,e,n){const s=new Map;Le(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,g=e.data.field(c.field);s.set(c.field,vE(f,g,n[a]))}return s}function cm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,_E(c,f,e))}return s}class bg extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SE extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&TE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(a.key)?null:g;const _=Lg(f,g);_!==null&&s.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(ge.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,s)=>lm(n,s))&&zs(this.baseMutations,e.baseMutations,(n,s)=>lm(n,s))}}class Bh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Le(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=function(){return dE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Bh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Re;function PE(i){switch(i){case U.OK:return de(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return de(15467,{code:i})}}function jg(i){if(i===void 0)return yr("GRPC error has no .code"),U.UNKNOWN;switch(i){case st.OK:return U.OK;case st.CANCELLED:return U.CANCELLED;case st.UNKNOWN:return U.UNKNOWN;case st.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case st.INTERNAL:return U.INTERNAL;case st.UNAVAILABLE:return U.UNAVAILABLE;case st.UNAUTHENTICATED:return U.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case st.NOT_FOUND:return U.NOT_FOUND;case st.ALREADY_EXISTS:return U.ALREADY_EXISTS;case st.PERMISSION_DENIED:return U.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case st.ABORTED:return U.ABORTED;case st.OUT_OF_RANGE:return U.OUT_OF_RANGE;case st.UNIMPLEMENTED:return U.UNIMPLEMENTED;case st.DATA_LOSS:return U.DATA_LOSS;default:return de(39323,{code:i})}}(Re=st||(st={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Qr([4294967295,4294967295],0);function hm(i){const e=sg().encode(i),n=new Ym;return n.update(e),new Uint8Array(n.digest())}function fm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([a,c],0)]}class $h{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(s<0)throw new Xo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Qr.fromNumber(this.fe)}pe(e,n,s){let a=e.add(n.multiply(Qr.fromNumber(s)));return a.compare(kE)===1&&(a=new Qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=hm(e),[s,a]=fm(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,a,c);if(!this.ye(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new $h(c,a,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.fe===0)return;const n=hm(e),[s,a]=fm(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,a,c);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gu(ge.min(),a,new Xe(we),_r(),Se())}}class da{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new da(s,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=a}}class Ug{constructor(e,n){this.targetId=e,this.De=n}}class zg{constructor(e,n,s=Ct.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class dm{constructor(){this.ve=0,this.Ce=pm(),this.Fe=Ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Se(),n=Se(),s=Se();return this.Ce.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de(38017,{changeType:c})}}),new da(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=pm()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xE{constructor(e){this.We=e,this.Ge=new Map,this.ze=_r(),this.je=Fl(),this.Je=Fl(),this.He=new Xe(we)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,s=e.De.count,a=this.st(n);if(a){const c=a.target;if(yh(c))if(s===0){const f=new le(c.path);this.Xe(n,f,Lt.newNoDocument(f,ge.min()))}else Le(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const g=this._t(e),_=g?this.ut(g,e,f):1;if(_!==0){this.rt(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,E)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,g;try{f=Zr(s).toUint8Array()}catch(_){if(_ instanceof cg)return Xr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new $h(f,a,c)}catch(_){return Xr(_ instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.We.lt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(n,c,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((c,f)=>{const g=this.st(f);if(g){if(c.current&&yh(g.target)){const _=new le(g.target.path);this.Tt(_).has(f)||this.It(f,_)||this.Xe(f,_,Lt.newNoDocument(_,e))}c.Ne&&(n.set(f,c.Le()),c.ke())}});let s=Se();this.Je.forEach((c,f)=>{let g=!0;f.forEachWhile(_=>{const E=this.st(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,f)=>f.setReadTime(e));const a=new gu(e,n,this.He,this.ze,s);return this.ze=_r(),this.je=Fl(),this.Je=Fl(),this.He=new Xe(we),a}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dm,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new dt(we),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new dt(we),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dm),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fl(){return new Xe(le.comparator)}function pm(){return new Xe(le.comparator)}const VE={asc:"ASCENDING",desc:"DESCENDING"},DE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NE={and:"AND",or:"OR"};class OE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Eh(i,e){return i.useProto3Json||cu(e)?e:{value:e}}function ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function FE(i,e){return ru(i,e.toTimestamp())}function Wn(i){return Le(!!i,49232),ge.fromTimestamp(function(n){const s=Jr(n);return new He(s.seconds,s.nanos)}(i))}function qh(i,e){return wh(i,e).canonicalString()}function wh(i,e){const n=function(a){return new Be(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $g(i){const e=Be.fromString(i);return Le(Gg(e),10190,{key:e.toString()}),e}function Th(i,e){return qh(i.databaseId,e.path)}function rh(i,e){const n=$g(e);if(n.get(1)!==i.databaseId.projectId)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(Hg(n))}function qg(i,e){return qh(i.databaseId,e)}function LE(i){const e=$g(i);return e.length===4?Be.emptyPath():Hg(e)}function Ih(i){return new Be(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hg(i){return Le(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mm(i,e,n){return{name:Th(i,e),fields:n.value.mapValue.fields}}function ME(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:de(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(Le(I===void 0||typeof I=="string",58123),Ct.fromBase64String(I||"")):(Le(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),Ct.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(E){const I=E.code===void 0?U.UNKNOWN:jg(E.code);return new te(I,E.message||"")}(f);n=new zg(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=rh(i,s.document.name),c=Wn(s.document.updateTime),f=s.document.createTime?Wn(s.document.createTime):ge.min(),g=new pn({mapValue:{fields:s.document.fields}}),_=Lt.newFoundDocument(a,c,f,g),E=s.targetIds||[],I=s.removedTargetIds||[];n=new $l(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=rh(i,s.document),c=s.readTime?Wn(s.readTime):ge.min(),f=Lt.newNoDocument(a,c),g=s.removedTargetIds||[];n=new $l([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=rh(i,s.document),c=s.removedTargetIds||[];n=new $l([],c,a,null)}else{if(!("filter"in e))return de(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new RE(a,c),g=s.targetId;n=new Ug(g,f)}}return n}function bE(i,e){let n;if(e instanceof fa)n={update:mm(i,e.key,e.value)};else if(e instanceof bg)n={delete:Th(i,e.key)};else if(e instanceof Mi)n={update:mm(i,e.key,e.data),updateMask:QE(e.fieldMask)};else{if(!(e instanceof SE))return de(16599,{Rt:e.type});n={verify:Th(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof la)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ua)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nu)return{fieldPath:f.field.canonicalString(),increment:g.Ee};throw de(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:FE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de(27497)}(i,e.precondition)),n}function jE(i,e){return i&&i.length>0?(Le(e!==void 0,14353),i.map(n=>function(a,c){let f=a.updateTime?Wn(a.updateTime):Wn(c);return f.isEqual(ge.min())&&(f=Wn(c)),new wE(f,a.transformResults||[])}(n,e))):[]}function UE(i,e){return{documents:[qg(i,e.path)]}}function zE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qg(i,a);const c=function(E){if(E.length!==0)return Qg(Dn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(I=>function(N){return{field:Os(N.field),direction:qE(N.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Eh(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{Vt:n,parent:a}}function BE(i){let e=LE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Le(s===1,65062);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(x){const N=Wg(x);return N instanceof Dn&&Eg(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(x){return x.map(N=>function(K){return new eu(Fs(K.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(N))}(n.orderBy));let g=null;n.limit&&(g=function(x){let N;return N=typeof x=="object"?x.value:x,cu(N)?null:N}(n.limit));let _=null;n.startAt&&(_=function(x){const N=!!x.before,B=x.values||[];return new Zl(B,N)}(n.startAt));let E=null;return n.endAt&&(E=function(x){const N=!x.before,B=x.values||[];return new Zl(B,N)}(n.endAt)),lE(e,a,f,c,g,"F",_,E)}function $E(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fs(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fs(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fs(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(i):i.fieldFilter!==void 0?function(n){return ot.create(Fs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(s=>Wg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(i):de(30097,{filter:i})}function qE(i){return VE[i]}function HE(i){return DE[i]}function WE(i){return NE[i]}function Os(i){return{fieldPath:i.canonicalString()}}function Fs(i){return At.fromServerFormat(i.fieldPath)}function Qg(i){return i instanceof ot?function(n){if(n.op==="=="){if(nm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(tm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(tm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:HE(n.op),value:n.value}}}(i):i instanceof Dn?function(n){const s=n.getFilters().map(a=>Qg(a));return s.length===1?s[0]:{compositeFilter:{op:WE(n.op),filters:s}}}(i):de(54877,{filter:i})}function QE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Gg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,c=ge.min(),f=ge.min(),g=Ct.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.gt=e}}function KE(i){const e=BE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Dn=new YE}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Yr.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class YE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dt(Be.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kg=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(Kg,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qs(0)}static ur(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LruGarbageCollector",JE=1048576;function _m([i,e],[n,s]){const a=we(i,n);return a===0?we(e,s):a}class ZE{constructor(e){this.Tr=e,this.buffer=new dt(_m),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_m(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ew{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ee(ym,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ks(n)?ee(ym,"Ignoring IndexedDB error during garbage collection: ",n):await Gs(n)}await this.Rr(3e5)})}}class tw{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return z.resolve(uu.ue);const s=new ZE(n);return this.Vr.forEachTarget(e,a=>s.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>s.Er(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(gm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gm):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,a,c,f,g,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,f=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(s=x,g=Date.now(),this.removeTargets(e,s,n))).next(x=>(c=x,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(E=Date.now(),Ds()<=Pe.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${x} documents in `+(E-_)+`ms
Total Duration: ${E-I}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:x})))}}function nw(i,e){return new tw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.changes=new Li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,Vn.empty(),He.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Se()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Se()){const a=Di();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Ko();return c.forEach((g,_)=>{f=f.insert(g,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Di();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Se()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,a){let c=_r();const f=ea(),g=function(){return ea()}();return n.forEach((_,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof Mi)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),ta(I.mutation,E,I.mutation.getFieldMask(),He.now())):f.set(E.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,I)=>f.set(E,I)),n.forEach((E,I)=>{var x;return g.set(E,new iw(I,(x=f.get(E))!==null&&x!==void 0?x:null))}),g))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new Xe((f,g)=>f-g),c=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(_=>{const E=n.get(_);if(E===null)return;let I=s.get(_)||Vn.empty();I=g.applyToLocalView(E,I),s.set(_,I);const x=(a.get(g.batchId)||Se()).add(_);a=a.insert(g.batchId,x)})}).next(()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),E=_.key,I=_.value,x=xg();I.forEach(N=>{if(!c.has(N)){const B=Lg(n.get(N),s.get(N));B!==null&&x.set(N,B),c=c.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,x))}return z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ag(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):z.resolve(Di());let g=ia,_=c;return f.next(E=>z.forEach(E,(I,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(I)?z.resolve():this.remoteDocumentCache.getEntry(e,I).next(N=>{_=_.insert(I,N)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Se())).next(I=>({batchId:g,changes:kg(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let a=Ko();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Ko();return this.indexManager.getCollectionParents(e,c).next(g=>z.forEach(g,_=>{const E=function(x,N){return new ha(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((x,N)=>{f=f.insert(x,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((_,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Lt.newInvalidDocument(I)))});let g=Ko();return f.forEach((_,E)=>{const I=c.get(_);I!==void 0&&ta(I.mutation,E,Vn.empty(),He.now()),du(n,E)&&(g=g.insert(_,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:KE(a.bundledQuery),readTime:Wn(a.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.overlays=new Xe(le.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Di();return z.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.wt(e,n,c)}),z.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const a=Di(),c=n.length+1,f=new le(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return z.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Xe((E,I)=>E-I);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Di(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const g=Di(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>g.set(E,I)),!(g.size()>=a)););return z.resolve(g)}wt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new CE(n,s));let c=this.kr.get(n);c===void 0&&(c=Se(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this.qr=new dt(_t.Qr),this.$r=new dt(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new le(new Be([])),s=new _t(n,e),a=new _t(n,e+1),c=[];return this.$r.forEachInRange([s,a],f=>{this.Wr(f),c.push(f.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new le(new Be([])),s=new _t(n,e),a=new _t(n,e+1);let c=Se();return this.$r.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _t(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return le.comparator(e.key,n.key)||we(e.Hr,n.Hr)}static Ur(e,n){return we(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new dt(_t.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AE(c,n,s,a);this.mutationQueue.push(f);for(const g of a)this.Yr=this.Yr.add(new _t(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return z.resolve(f)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),c=a<0?0:a;return z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Lh:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,a],f=>{const g=this.Zr(f.Hr);c.push(g)}),z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dt(we);return n.forEach(a=>{const c=new _t(a,0),f=new _t(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,f],g=>{s=s.add(g.Hr)})}),z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const f=new _t(new le(c),0);let g=new dt(we);return this.Yr.forEachWhile(_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(g=g.add(_.Hr)),!0)},f),z.resolve(this.ei(g))}ei(e){const n=[];return e.forEach(s=>{const a=this.Zr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Le(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return z.forEach(n.mutations,a=>{const c=new _t(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new _t(n,0),a=this.Yr.firstAfterOrEqual(s);return z.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.ni=e,this.docs=function(){return new Xe(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Lt.newInvalidDocument(a))}),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=_r();const f=n.path,g=new le(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||U0(j0(I),s)<=0||(a.has(I.key)||du(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return z.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de(9500)}ri(e,n){return z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new hw(this)}getSize(e){return z.resolve(this.size)}}class hw extends rw{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.persistence=e,this.ii=new Li(n=>jh(n),Uh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.si=0,this.oi=new Hh,this.targetCount=0,this._i=qs.ar()}forEachTarget(e,n){return this.ii.forEach((s,a)=>n(a)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.ii.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),z.waitFor(c).next(()=>a)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.ai={},this.overlays={},this.ui=new uu(0),this.ci=!1,this.ci=!0,this.li=new lw,this.referenceDelegate=e(this),this.hi=new fw(this),this.indexManager=new XE,this.remoteDocumentCache=function(a){return new cw(a)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new GE(n),this.Ti=new ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new uw(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ee("MemoryPersistence","Starting transaction:",e);const a=new dw(this.ui.next());return this.referenceDelegate.Ii(),s(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ei(e,n){return z.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class dw extends B0{constructor(e){super(),this.currentSequenceNumber=e}}class Wh{constructor(e){this.persistence=e,this.Ai=new Hh,this.Ri=null}static Vi(e){return new Wh(e)}get mi(){if(this.Ri)return this.Ri;throw de(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,s=>{const a=le.fromPath(s);return this.fi(e,a).next(c=>{c||n.removeEntry(a,ge.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class iu{constructor(e,n){this.persistence=e,this.gi=new Li(s=>H0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=nw(this,n)}static Vi(e,n){return new iu(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(s,a)=>this.Sr(e,s,a).next(c=>c?z.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ri(e,f=>this.Sr(e,f,n).next(g=>{g||(s++,c.removeEntry(f,ge.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ul(e.data.value)),n}Sr(e,n,s){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return z.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=a}static Es(e,n){let s=Se(),a=Se();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Qh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return cv()?8:$0(lv())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ps(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ys(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new pw;return this.ws(e,n,f).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,n,f,g.size)})}).next(()=>c.result)}Ss(e,n,s,a){return s.documentReadCount<this.Vs?(Ds()<=Pe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(Ds()<=Pe.DEBUG&&ee("QueryEngine","Query:",Ns(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Ds()<=Pe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):z.resolve())}ps(e,n){if(om(n))return z.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vh(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Se(...c);return this.gs.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const E=this.bs(n,g);return this.Ds(n,E,f,_.readTime)?this.ps(e,vh(n,null,"F")):this.vs(e,E,n,_)}))})))}ys(e,n,s,a){return om(n)||a.isEqual(ge.min())?z.resolve(null):this.gs.getDocuments(e,s).next(c=>{const f=this.bs(n,c);return this.Ds(n,f,s,a)?z.resolve(null):(Ds()<=Pe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ns(n)),this.vs(e,f,n,b0(a,ia)).next(g=>g))})}bs(e,n){let s=new dt(Rg(e));return n.forEach((a,c)=>{du(e,c)&&(s=s.add(c))}),s}Ds(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ws(e,n,s){return Ds()<=Pe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.gs.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="LocalStore",gw=3e8;class yw{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new Xe(we),this.Ms=new Li(c=>jh(c),Uh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function _w(i,e,n,s){return new yw(i,e,n,s)}async function Yg(i,e){const n=_e(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let _=Se();for(const E of a){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){g.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return n.localDocuments.getDocuments(s,_).next(E=>({Bs:E,removedBatchIds:f,addedBatchIds:g}))})})}function vw(i,e){const n=_e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,E,I){const x=E.batch,N=x.keys();let B=z.resolve();return N.forEach(K=>{B=B.next(()=>I.getEntry(_,K)).next(X=>{const W=E.docVersions.get(K);Le(W!==null,48541),X.version.compareTo(W)<0&&(x.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),I.addEntry(X)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(_,x))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Se();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(_=_.add(g.batch.mutations[E].key));return _}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Jg(i){const e=_e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Ew(i,e){const n=_e(i),s=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const g=[];e.targetChanges.forEach((I,x)=>{const N=a.get(x);if(!N)return;g.push(n.hi.removeMatchingKeys(c,I.removedDocuments,x).next(()=>n.hi.addMatchingKeys(c,I.addedDocuments,x)));let B=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?B=B.withResumeToken(Ct.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,s)),a=a.insert(x,B),function(X,W,ve){return X.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=gw?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0}(N,B,I)&&g.push(n.hi.updateTargetData(c,B))});let _=_r(),E=Se();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),g.push(ww(c,f,e.documentUpdates).next(I=>{_=I.Ls,E=I.ks})),!s.isEqual(ge.min())){const I=n.hi.getLastRemoteSnapshotVersion(c).next(x=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(I)}return z.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(n.Fs=a,c))}function ww(i,e,n){let s=Se(),a=Se();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=_r();return n.forEach((g,_)=>{const E=c.get(g);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(ge.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):ee(Gh,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",_.version)}),{Ls:f,ks:a}})}function Tw(i,e){const n=_e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Lh),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Iw(i,e){const n=_e(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.hi.getTargetData(s,e).next(c=>c?(a=c,z.resolve(a)):n.hi.allocateTargetId(s).next(f=>(a=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Sh(i,e,n){const s=_e(i),a=s.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Ks(f))throw f;ee(Gh,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function vm(i,e,n){const s=_e(i);let a=ge.min(),c=Se();return s.persistence.runTransaction("Execute query","readwrite",f=>function(_,E,I){const x=_e(_),N=x.Ms.get(I);return N!==void 0?z.resolve(x.Fs.get(N)):x.hi.getTargetData(E,I)}(s,f,Hn(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,g.targetId).next(_=>{c=_})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?a:ge.min(),n?c:Se())).next(g=>(Sw(s,cE(e),g),{documents:g,qs:c})))}function Sw(i,e,n){let s=i.xs.get(e)||ge.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.xs.set(e,s)}class Em{constructor(){this.activeTargetIds=gE()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aw{constructor(){this.Fo=new Em,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Em,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="ConnectivityMonitor";class Tm{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ee(wm,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ee(wm,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=null;function Ah(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="RestConnection",Rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pw{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===Yl?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,c){const f=Ah(),g=this.Go(e,n.toUriEncodedString());ee(ih,`Sending RPC '${e}' ${f}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,a,c);const{host:E}=new URL(g),I=Dh(E);return this.jo(e,g,_,s,I).then(x=>(ee(ih,`Received RPC '${e}' ${f}: `,x),x),x=>{throw Xr(ih,`RPC '${e}' ${f} failed with error: `,x,"url: ",g,"request:",s),x})}Jo(e,n,s,a,c,f){return this.Wo(e,n,s,a,c)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Go(e,n){const s=Rw[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class xw extends Pw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,a,c){const f=Ah();return new Promise((g,_)=>{const E=new Jm;E.setWithCredentials(!0),E.listenOnce(Zm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case jl.NO_ERROR:const x=E.getResponseJson();ee(Ot,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),g(x);break;case jl.TIMEOUT:ee(Ot,`RPC '${e}' ${f} timed out`),_(new te(U.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:const N=E.getStatus();if(ee(Ot,`RPC '${e}' ${f} failed with status:`,N,"response text:",E.getResponseText()),N>0){let B=E.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B==null?void 0:B.error;if(K&&K.status&&K.message){const X=function(ve){const pe=ve.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(pe)>=0?pe:U.UNKNOWN}(K.status);_(new te(X,K.message))}else _(new te(U.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new te(U.UNAVAILABLE,"Connection failed."));break;default:de(9055,{c_:e,streamId:f,l_:E.getLastErrorCode(),h_:E.getLastError()})}}finally{ee(Ot,`RPC '${e}' ${f} completed.`)}});const I=JSON.stringify(a);ee(Ot,`RPC '${e}' ${f} sending request:`,a),E.send(n,"POST",I,s,15)})}P_(e,n,s){const a=Ah(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ng(),g=tg(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const I=c.join("");ee(Ot,`Creating RPC '${e}' stream ${a}: ${I}`,_);const x=f.createWebChannel(I,_);this.T_(x);let N=!1,B=!1;const K=new kw({Ho:W=>{B?ee(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(N||(ee(Ot,`Opening RPC '${e}' stream ${a} transport.`),x.open(),N=!0),ee(Ot,`RPC '${e}' stream ${a} sending:`,W),x.send(W))},Yo:()=>x.close()}),X=(W,ve,pe)=>{W.listen(ve,ye=>{try{pe(ye)}catch(Te){setTimeout(()=>{throw Te},0)}})};return X(x,Go.EventType.OPEN,()=>{B||(ee(Ot,`RPC '${e}' stream ${a} transport opened.`),K.s_())}),X(x,Go.EventType.CLOSE,()=>{B||(B=!0,ee(Ot,`RPC '${e}' stream ${a} transport closed`),K.__(),this.I_(x))}),X(x,Go.EventType.ERROR,W=>{B||(B=!0,Xr(Ot,`RPC '${e}' stream ${a} transport errored. Name:`,W.name,"Message:",W.message),K.__(new te(U.UNAVAILABLE,"The operation could not be completed")))}),X(x,Go.EventType.MESSAGE,W=>{var ve;if(!B){const pe=W.data[0];Le(!!pe,16349);const ye=pe,Te=(ye==null?void 0:ye.error)||((ve=ye[0])===null||ve===void 0?void 0:ve.error);if(Te){ee(Ot,`RPC '${e}' stream ${a} received error:`,Te);const Je=Te.status;let ke=function(A){const k=st[A];if(k!==void 0)return jg(k)}(Je),V=Te.message;ke===void 0&&(ke=U.INTERNAL,V="Unknown error status: "+Je+" with message "+Te.message),B=!0,K.__(new te(ke,V)),x.close()}else ee(Ot,`RPC '${e}' stream ${a} received:`,pe),K.a_(pe)}}),X(g,eg.STAT_EVENT,W=>{W.stat===fh.PROXY?ee(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===fh.NOPROXY&&ee(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{K.o_()},0),K}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){return new OE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-s);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="PersistentStream";class ey{constructor(e,n,s,a,c,f,g,_){this.Fi=e,this.w_=s,this.S_=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.b_===n&&this.W_(s,a)},s=>{e(()=>{const a=new te(U.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{s(()=>this.G_(a))}),this.stream.onMessage(a=>{s(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ee(Im,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ee(Im,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vw extends ey{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=ME(this.serializer,e),s=function(c){if(!("targetChange"in c))return ge.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ge.min():f.readTime?Wn(f.readTime):ge.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Ih(this.serializer),n.addTarget=function(c,f){let g;const _=f.target;if(g=yh(_)?{documents:UE(c,_)}:{query:zE(c,_).Vt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Bg(c,f.resumeToken);const E=Eh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(ge.min())>0){g.readTime=ru(c,f.snapshotVersion.toTimestamp());const E=Eh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const s=$E(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Ih(this.serializer),n.removeTarget=e,this.k_(n)}}class Dw extends ey{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=jE(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Ih(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>bE(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{}class Ow extends Nw{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(e,wh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new te(U.UNKNOWN,c.toString())})}Jo(e,n,s,a,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Jo(e,wh(n,s),a,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new te(U.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Fw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yr(n),this._a=!1):ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class Lw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{bi(this)&&(ee(Oi,"Restarting streams for network reachability change."),await async function(_){const E=_e(_);E.Ia.add(4),await pa(E),E.Aa.set("Unknown"),E.Ia.delete(4),await _u(E)}(this))})}),this.Aa=new Fw(s,a)}}async function _u(i){if(bi(i))for(const e of i.da)await e(!0)}async function pa(i){for(const e of i.da)await e(!1)}function ty(i,e){const n=_e(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Jh(n)?Yh(n):Xs(n).x_()&&Xh(n,e))}function Kh(i,e){const n=_e(i),s=Xs(n);n.Ta.delete(e),s.x_()&&ny(n,e),n.Ta.size===0&&(s.x_()?s.B_():bi(n)&&n.Aa.set("Unknown"))}function Xh(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).H_(e)}function ny(i,e){i.Ra.$e(e),Xs(i).Y_(e)}function Yh(i){i.Ra=new xE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.Aa.aa()}function Jh(i){return bi(i)&&!Xs(i).M_()&&i.Ta.size>0}function bi(i){return _e(i).Ia.size===0}function ry(i){i.Ra=void 0}async function Mw(i){i.Aa.set("Online")}async function bw(i){i.Ta.forEach((e,n)=>{Xh(i,e)})}async function jw(i,e){ry(i),Jh(i)?(i.Aa.la(e),Yh(i)):i.Aa.set("Unknown")}async function Uw(i,e,n){if(i.Aa.set("Online"),e instanceof zg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const g of c.targetIds)a.Ta.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ta.delete(g),a.Ra.removeTarget(g))}(i,e)}catch(s){ee(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await su(i,s)}else if(e instanceof $l?i.Ra.Ye(e):e instanceof Ug?i.Ra.it(e):i.Ra.et(e),!n.isEqual(ge.min()))try{const s=await Jg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.Ra.Pt(f);return g.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.Ta.get(E);I&&c.Ta.set(E,I.withResumeToken(_.resumeToken,f))}}),g.targetMismatches.forEach((_,E)=>{const I=c.Ta.get(_);if(!I)return;c.Ta.set(_,I.withResumeToken(Ct.EMPTY_BYTE_STRING,I.snapshotVersion)),ny(c,_);const x=new qr(I.target,_,E,I.sequenceNumber);Xh(c,x)}),c.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){ee(Oi,"Failed to raise snapshot:",s),await su(i,s)}}async function su(i,e,n){if(!Ks(e))throw e;i.Ia.add(1),await pa(i),i.Aa.set("Offline"),n||(n=()=>Jg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ee(Oi,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await _u(i)})}function iy(i,e){return e().catch(n=>su(i,n,e))}async function vu(i){const e=_e(i),n=ti(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Lh;for(;zw(e);)try{const a=await Tw(e.localStore,s);if(a===null){e.Pa.length===0&&n.B_();break}s=a.batchId,Bw(e,a)}catch(a){await su(e,a)}sy(e)&&oy(e)}function zw(i){return bi(i)&&i.Pa.length<10}function Bw(i,e){i.Pa.push(e);const n=ti(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function sy(i){return bi(i)&&!ti(i).M_()&&i.Pa.length>0}function oy(i){ti(i).start()}async function $w(i){ti(i).na()}async function qw(i){const e=ti(i);for(const n of i.Pa)e.X_(n.mutations)}async function Hw(i,e,n){const s=i.Pa.shift(),a=Bh.from(s,e,n);await iy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await vu(i)}async function Ww(i,e){e&&ti(i).Z_&&await async function(s,a){if(function(f){return PE(f)&&f!==U.ABORTED}(a.code)){const c=s.Pa.shift();ti(s).N_(),await iy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await vu(s)}}(i,e),sy(i)&&oy(i)}async function Sm(i,e){const n=_e(i);n.asyncQueue.verifyOperationInProgress(),ee(Oi,"RemoteStore received new credentials");const s=bi(n);n.Ia.add(3),await pa(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await _u(n)}async function Qw(i,e){const n=_e(i);e?(n.Ia.delete(2),await _u(n)):e||(n.Ia.add(2),await pa(n),n.Aa.set("Unknown"))}function Xs(i){return i.Va||(i.Va=function(n,s,a){const c=_e(n);return c.ia(),new Vw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Zo:Mw.bind(null,i),e_:bw.bind(null,i),n_:jw.bind(null,i),J_:Uw.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Jh(i)?Yh(i):i.Aa.set("Unknown")):(await i.Va.stop(),ry(i))})),i.Va}function ti(i){return i.ma||(i.ma=function(n,s,a){const c=_e(n);return c.ia(),new Dw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:$w.bind(null,i),n_:Ww.bind(null,i),ea:qw.bind(null,i),ta:Hw.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await vu(i)):(await i.ma.stop(),i.Pa.length>0&&(ee(Oi,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,g=new Zh(e,n,f,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ef(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Ks(i))return new te(U.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=Ko(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.fa=new Xe(le.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):de(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,f,g,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Hs(e,n,Ms.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Kw{constructor(){this.queries=Cm(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const a=_e(n),c=a.queries;a.queries=Cm(),c.forEach((f,g)=>{for(const _ of g.wa)_.onError(s)})})(this,new te(U.ABORTED,"Firestore shutting down"))}}function Cm(){return new Li(i=>Cg(i),fu)}async function Xw(i,e){const n=_e(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Sa()&&e.ba()&&(s=2):(c=new Gw,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(a,!0);break;case 1:c.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=ef(f,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&tf(n)}async function Yw(i,e){const n=_e(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.wa.indexOf(e);f>=0&&(c.wa.splice(f,1),c.wa.length===0?a=e.ba()?0:1:!c.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Jw(i,e){const n=_e(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const g of f.wa)g.Ca(a)&&(s=!0);f.ya=a}}s&&tf(n)}function Zw(i,e,n){const s=_e(i),a=s.queries.get(e);if(a)for(const c of a.wa)c.onError(n);s.queries.delete(e)}function tf(i){i.Da.forEach(e=>{e.next()})}var Ch,Rm;(Rm=Ch||(Ch={})).Fa="default",Rm.Cache="cache";class e1{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ch.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.key=e}}class ly{constructor(e){this.key=e}}class t1{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Se(),this.mutatedKeys=Se(),this.Xa=Rg(e),this.eu=new Ms(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new Am,a=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,x)=>{const N=a.get(I),B=du(this.query,x)?x:null,K=!!N&&this.mutatedKeys.has(N.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;N&&B?N.data.isEqual(B.data)?K!==X&&(s.track({type:3,doc:B}),W=!0):this.iu(N,B)||(s.track({type:2,doc:B}),W=!0,(_&&this.Xa(B,_)>0||E&&this.Xa(B,E)<0)&&(g=!0)):!N&&B?(s.track({type:0,doc:B}),W=!0):N&&!B&&(s.track({type:1,doc:N}),W=!0,(_||E)&&(g=!0)),W&&(B?(f=f.add(B),c=X?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{eu:f,ru:s,Ds:g,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((I,x)=>function(B,K){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{At:W})}};return X(B)-X(K)}(I.type,x.type)||this.Xa(I.doc,x.doc)),this.su(s),a=a!=null&&a;const g=n&&!a?this.ou():[],_=this.Za.size===0&&this.current&&!a?1:0,E=_!==this.Ya;return this.Ya=_,f.length!==0||E?{snapshot:new Hs(this.query,e.eu,c,f,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Am,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Se(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new ly(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new ay(s))}),n}uu(e){this.Ha=e.qs,this.Za=Se();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Hs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nf="SyncEngine";class n1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r1{constructor(e){this.key=e,this.lu=!1}}class i1{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Li(g=>Cg(g),fu),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(le.comparator),this.Eu=new Map,this.Au=new Hh,this.Ru={},this.Vu=new Map,this.mu=qs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function s1(i,e,n=!0){const s=py(i);let a;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.cu()):a=await uy(s,e,n,!0),a}async function o1(i,e){const n=py(i);await uy(n,e,!0,!1)}async function uy(i,e,n,s){const a=await Iw(i.localStore,Hn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await a1(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ty(i.remoteStore,a),g}async function a1(i,e,n,s,a){i.gu=(x,N,B)=>async function(X,W,ve,pe){let ye=W.view.nu(ve);ye.Ds&&(ye=await vm(X.localStore,W.query,!1).then(({documents:V})=>W.view.nu(V,ye)));const Te=pe&&pe.targetChanges.get(W.targetId),Je=pe&&pe.targetMismatches.get(W.targetId)!=null,ke=W.view.applyChanges(ye,X.isPrimaryClient,Te,Je);return km(X,W.targetId,ke._u),ke.snapshot}(i,x,N,B);const c=await vm(i.localStore,e,!0),f=new t1(e,c.qs),g=f.nu(c.documents),_=da.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(g,i.isPrimaryClient,_);km(i,n,E._u);const I=new n1(e,n,f);return i.Pu.set(e,I),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),E.snapshot}async function l1(i,e,n){const s=_e(i),a=s.Pu.get(e),c=s.Tu.get(a.targetId);if(c.length>1)return s.Tu.set(a.targetId,c.filter(f=>!fu(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Kh(s.remoteStore,a.targetId),Rh(s,a.targetId)}).catch(Gs)):(Rh(s,a.targetId),await Sh(s.localStore,a.targetId,!0))}async function u1(i,e){const n=_e(i),s=n.Pu.get(e),a=n.Tu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kh(n.remoteStore,s.targetId))}async function c1(i,e,n){const s=y1(i);try{const a=await function(f,g){const _=_e(f),E=He.now(),I=g.reduce((B,K)=>B.add(K.key),Se());let x,N;return _.persistence.runTransaction("Locally write mutations","readwrite",B=>{let K=_r(),X=Se();return _.Os.getEntries(B,I).next(W=>{K=W,K.forEach((ve,pe)=>{pe.isValidDocument()||(X=X.add(ve))})}).next(()=>_.localDocuments.getOverlayedDocuments(B,K)).next(W=>{x=W;const ve=[];for(const pe of g){const ye=IE(pe,x.get(pe.key).overlayedDocument);ye!=null&&ve.push(new Mi(pe.key,ye,yg(ye.value.mapValue),mr.exists(!0)))}return _.mutationQueue.addMutationBatch(B,E,ve,g)}).next(W=>{N=W;const ve=W.applyToLocalDocumentSet(x,X);return _.documentOverlayCache.saveOverlays(B,W.batchId,ve)})}).then(()=>({batchId:N.batchId,changes:kg(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,g,_){let E=f.Ru[f.currentUser.toKey()];E||(E=new Xe(we)),E=E.insert(g,_),f.Ru[f.currentUser.toKey()]=E}(s,a.batchId,n),await ma(s,a.changes),await vu(s.remoteStore)}catch(a){const c=ef(a,"Failed to persist write");n.reject(c)}}async function cy(i,e){const n=_e(i);try{const s=await Ew(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Eu.get(c);f&&(Le(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.lu=!0:a.modifiedDocuments.size>0?Le(f.lu,14607):a.removedDocuments.size>0&&(Le(f.lu,42227),f.lu=!1))}),await ma(n,s,e)}catch(s){await Gs(s)}}function Pm(i,e,n){const s=_e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Pu.forEach((c,f)=>{const g=f.view.va(e);g.snapshot&&a.push(g.snapshot)}),function(f,g){const _=_e(f);_.onlineState=g;let E=!1;_.queries.forEach((I,x)=>{for(const N of x.wa)N.va(g)&&(E=!0)}),E&&tf(_)}(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h1(i,e,n){const s=_e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),c=a&&a.key;if(c){let f=new Xe(le.comparator);f=f.insert(c,Lt.newNoDocument(c,ge.min()));const g=Se().add(c),_=new gu(ge.min(),new Map,new Xe(we),f,g);await cy(s,_),s.du=s.du.remove(c),s.Eu.delete(e),rf(s)}else await Sh(s.localStore,e,!1).then(()=>Rh(s,e,n)).catch(Gs)}async function f1(i,e){const n=_e(i),s=e.batch.batchId;try{const a=await vw(n.localStore,e);fy(n,s,null),hy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ma(n,a)}catch(a){await Gs(a)}}async function d1(i,e,n){const s=_e(i);try{const a=await function(f,g){const _=_e(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return _.mutationQueue.lookupMutationBatch(E,g).next(x=>(Le(x!==null,37113),I=x.keys(),_.mutationQueue.removeMutationBatch(E,x))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>_.localDocuments.getDocuments(E,I))})}(s.localStore,e);fy(s,e,n),hy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ma(s,a)}catch(a){await Gs(a)}}function hy(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function fy(i,e,n){const s=_e(i);let a=s.Ru[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function Rh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||dy(i,s)})}function dy(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Kh(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),rf(i))}function km(i,e,n){for(const s of n)s instanceof ay?(i.Au.addReference(s.key,e),p1(i,s)):s instanceof ly?(ee(nf,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||dy(i,s.key)):de(19791,{yu:s})}function p1(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ee(nf,"New document in limbo: "+n),i.Iu.add(s),rf(i))}function rf(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new le(Be.fromString(e)),s=i.mu.next();i.Eu.set(s,new r1(n)),i.du=i.du.insert(n,s),ty(i.remoteStore,new qr(Hn(Sg(n.path)),s,"TargetPurposeLimboResolution",uu.ue))}}async function ma(i,e,n){const s=_e(i),a=[],c=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((g,_)=>{f.push(s.gu(_,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const x=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(_.targetId,x?"current":"not-current")}if(E){a.push(E);const x=Qh.Es(_.targetId,E);c.push(x)}}))}),await Promise.all(f),s.hu.J_(a),await async function(_,E){const I=_e(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>z.forEach(E,N=>z.forEach(N.Is,B=>I.persistence.referenceDelegate.addReference(x,N.targetId,B)).next(()=>z.forEach(N.ds,B=>I.persistence.referenceDelegate.removeReference(x,N.targetId,B)))))}catch(x){if(!Ks(x))throw x;ee(Gh,"Failed to update sequence numbers: "+x)}for(const x of E){const N=x.targetId;if(!x.fromCache){const B=I.Fs.get(N),K=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(K);I.Fs=I.Fs.insert(N,X)}}}(s.localStore,c))}async function m1(i,e){const n=_e(i);if(!n.currentUser.isEqual(e)){ee(nf,"User change. New user:",e.toKey());const s=await Yg(n.localStore,e);n.currentUser=e,function(c,f){c.Vu.forEach(g=>{g.forEach(_=>{_.reject(new te(U.CANCELLED,f))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ma(n,s.Bs)}}function g1(i,e){const n=_e(i),s=n.Eu.get(e);if(s&&s.lu)return Se().add(s.key);{let a=Se();const c=n.Tu.get(e);if(!c)return a;for(const f of c){const g=n.Pu.get(f);a=a.unionWith(g.view.tu)}return a}}function py(i){const e=_e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h1.bind(null,e),e.hu.J_=Jw.bind(null,e.eventManager),e.hu.pu=Zw.bind(null,e.eventManager),e}function y1(i){const e=_e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d1.bind(null,e),e}class ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return _w(this.persistence,new mw,e.initialUser,this.serializer)}Du(e){return new Xg(Wh.Vi,this.serializer)}bu(e){return new Aw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ou.provider={build:()=>new ou};class _1 extends ou{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Le(this.persistence.referenceDelegate instanceof iu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ew(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Xg(s=>iu.Vi(s,n),this.serializer)}}class Ph{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=m1.bind(null,this.syncEngine),await Qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kw}()}createDatastore(e){const n=yu(e.databaseInfo.databaseId),s=function(c){return new xw(c)}(e.databaseInfo);return function(c,f,g,_){return new Ow(c,f,g,_)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,g){return new Lw(s,a,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Pm(this.syncEngine,n,0),function(){return Tm.C()?new Tm:new Cw}())}createSyncEngine(e,n){return function(a,c,f,g,_,E,I){const x=new i1(a,c,f,g,_,E);return I&&(x.fu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=_e(a);ee(Oi,"RemoteStore shutting down."),c.Ia.add(5),await pa(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ph.provider={build:()=>new Ph};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="FirestoreClient";class E1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=Fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ee(ni,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ee(ni,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ef(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function oh(i,e){i.asyncQueue.verifyOperationInProgress(),ee(ni,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Yg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>{Xr("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ee("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Xr("Terminating Firestore due to IndexedDb database deletion failed",a)})}),i._offlineComponents=e}async function xm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await w1(i);ee(ni,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Sm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Sm(e.remoteStore,a)),i._onlineComponents=e}async function w1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ee(ni,"Using user provided OfflineComponentProvider");try{await oh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===U.FAILED_PRECONDITION||a.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await oh(i,new ou)}}else ee(ni,"Using default OfflineComponentProvider"),await oh(i,new _1(void 0));return i._offlineComponents}async function my(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ee(ni,"Using user provided OnlineComponentProvider"),await xm(i,i._uninitializedComponentsProvider._online)):(ee(ni,"Using default OnlineComponentProvider"),await xm(i,new Ph))),i._onlineComponents}function T1(i){return my(i).then(e=>e.syncEngine)}async function I1(i){const e=await my(i),n=e.eventManager;return n.onListen=s1.bind(null,e.syncEngine),n.onUnlisten=l1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u1.bind(null,e.syncEngine),n}function S1(i,e,n={}){const s=new Gr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,g,_,E){const I=new v1({next:N=>{I.Ou(),f.enqueueAndForget(()=>Yw(c,x)),N.fromCache&&_.source==="server"?E.reject(new te(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),x=new e1(g,I,{includeMetadataChanges:!0,ka:!0});return Xw(c,x)}(await I1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="firestore.googleapis.com",Dm=!0;class Nm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new te(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yy,this.ssl=Dm}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Dm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JE)throw new te(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new P0;switch(s.type){case"firstParty":return new D0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vm.get(n);s&&(ee("ComponentProvider","Removing Datastore"),Vm.delete(n),s.terminate())}(this),Promise.resolve()}}function A1(i,e,n,s={}){var a;i=Kl(i,Eu);const c=Dh(e),f=i._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),_=`${e}:${n}`;c&&(rv(`https://${_}`),av("Firestore",!0)),f.host!==yy&&f.host!==_&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},f),{host:_,ssl:c,emulatorOptions:s});if(!Wl(E,g)&&(i._setSettings(E),s.mockUserToken)){let I,x;if(typeof s.mockUserToken=="string")I=s.mockUserToken,x=Ft.MOCK_USER;else{I=iv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new te(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ft(N)}i._authCredentials=new k0(new ig(I,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ca(n,vt._jsonSchema))return new vt(e,s||null,new le(Be.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:at("string",vt._jsonSchemaVersion),referencePath:at("string")};class Kr extends Ys{constructor(e,n,s){super(e,n,Sg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new le(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function C1(i,e,...n){if(i=Us(i),og("collection","path",e),i instanceof Eu){const s=Be.fromString(e,...n);return Wp(s),new Kr(i,null,s)}{if(!(i instanceof vt||i instanceof Kr))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Be.fromString(e,...n));return Wp(s),new Kr(i.firestore,null,s)}}function R1(i,e,...n){if(i=Us(i),arguments.length===1&&(e=Fh.newId()),og("doc","path",e),i instanceof Eu){const s=Be.fromString(e,...n);return Hp(s),new vt(i,null,new le(s))}{if(!(i instanceof vt||i instanceof Kr))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Be.fromString(e,...n));return Hp(s),new vt(i.firestore,i instanceof Kr?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="AsyncQueue";class Fm{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zg(this,"async_queue_retry"),this.oc=()=>{const s=sh();s&&ee(Om,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=sh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ks(e))throw e;ee(Om,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,yr("INTERNAL UNHANDLED ERROR: ",Lm(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=Zh.createAndSchedule(this,e,n,s,c=>this.lc(c));return this.ec.push(a),a}ac(){this.tc&&de(47125,{hc:Lm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Lm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class sf extends Eu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Fm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fm(e),this._firestoreClient=void 0,await e}}}function P1(i,e){const n=typeof i=="object"?i:y0(),s=typeof i=="string"?i:Yl,a=f0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=tv("firestore");c&&A1(a,...c)}return a}function _y(i){if(i._terminated)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||k1(i),i._firestoreClient}function k1(i){var e,n,s;const a=i._freezeSettings(),c=function(g,_,E,I){return new G0(g,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,gy(I.experimentalLongPollingOptions),I.useFetchStreams,I.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new E1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mn(Ct.fromBase64String(e))}catch(n){throw new te(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ca(e,mn._jsonSchema))return mn.fromBase64String(e.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:at("string",mn._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(ca(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:at("string",Qn._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ca(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gn(e.vectorValues);throw new te(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:at("string",Gn._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=/^__.*__$/;class V1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}function Ey(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ec:i})}}class af{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return au(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ey(this.Ec)&&x1.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class D1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yu(e)}Dc(e,n,s,a=!1){return new af({Ec:e,methodName:n,bc:s,path:At.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wy(i){const e=i._freezeSettings(),n=yu(i._databaseId);return new D1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function N1(i,e,n,s,a,c={}){const f=i.Dc(c.merge||c.mergeFields?2:0,e,n,a);Sy("Data must be an object, but it was:",f,s);const g=Ty(s,f);let _,E;if(c.merge)_=new Vn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const x of c.mergeFields){const N=F1(e,x,n);if(!f.contains(N))throw new te(U.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);M1(I,N)||I.push(N)}_=new Vn(I),E=f.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,E=f.fieldTransforms;return new V1(new pn(g),_,E)}function O1(i,e,n,s=!1){return lf(n,i.Dc(s?4:3,e))}function lf(i,e){if(Iy(i=Us(i)))return Sy("Unsupported field value:",e,i),Ty(i,e);if(i instanceof vy)return function(s,a){if(!Ey(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const g of s){let _=lf(g,a.yc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Us(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=He.fromDate(s);return{timestampValue:ru(a.serializer,c)}}if(s instanceof He){const c=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ru(a.serializer,c)}}if(s instanceof Qn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mn)return{bytesValue:Bg(a.serializer,s._byteString)};if(s instanceof vt){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gn)return function(f,g){return{mapValue:{fields:{[mg]:{stringValue:gg},[Jl]:{arrayValue:{values:f.toArray().map(E=>{if(typeof E!="number")throw g.wc("VectorValues must only contain numeric values.");return zh(g.serializer,E)})}}}}}}(s,a);throw a.wc(`Unsupported field value: ${lu(s)}`)}(i,e)}function Ty(i,e){const n={};return ug(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(i,(s,a)=>{const c=lf(a,e.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Iy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof He||i instanceof Qn||i instanceof mn||i instanceof vt||i instanceof vy||i instanceof Gn)}function Sy(i,e,n){if(!Iy(n)||!ag(n)){const s=lu(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function F1(i,e,n){if((e=Us(e))instanceof of)return e._internalPath;if(typeof e=="string")return Ay(i,e);throw au("Field path arguments must be of type string or ",i,!1,void 0,n)}const L1=new RegExp("[~\\*/\\[\\]]");function Ay(i,e,n){if(e.search(L1)>=0)throw au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new of(...e.split("."))._internalPath}catch{throw au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function au(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${s}`),f&&(_+=` in document ${a}`),_+=")"),new te(U.INVALID_ARGUMENT,g+i+_)}function M1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b1 extends Cy{data(){return super.data()}}function uf(i,e){return typeof e=="string"?Ay(i,e):e instanceof of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new te(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cf{}class U1 extends cf{}function z1(i,e,...n){let s=[];e instanceof cf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(_=>_ instanceof hf).length,g=c.filter(_=>_ instanceof wu).length;if(f>1||f>0&&g>0)throw new te(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class wu extends U1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wu(e,n,s)}_apply(e){const n=this._parse(e);return Ry(e._query,n),new Ys(e.firestore,e.converter,_h(e._query,n))}_parse(e){const n=wy(e.firestore);return function(c,f,g,_,E,I,x){let N;if(E.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new te(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){bm(x,I);const K=[];for(const X of x)K.push(Mm(_,c,X));N={arrayValue:{values:K}}}else N=Mm(_,c,x)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||bm(x,I),N=O1(g,f,x,I==="in"||I==="not-in");return ot.create(E,I,N)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function B1(i,e,n){const s=e,a=uf("where",i);return wu._create(a,s,n)}class hf extends cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const g=c.getFlattenedFilters();for(const _ of g)Ry(f,_),f=_h(f,_)}(e._query,n),new Ys(e.firestore,e.converter,_h(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mm(i,e,n){if(typeof(n=Us(n))=="string"){if(n==="")throw new te(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ag(e)&&n.indexOf("/")!==-1)throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Be.fromString(n));if(!le.isDocumentKey(s))throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return em(i,new le(s))}if(n instanceof vt)return em(i,n._key);throw new te(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lu(n)}.`)}function bm(i,e){if(!Array.isArray(i)||i.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ry(i,e){const n=function(a,c){for(const f of a)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $1{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fi(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Jl].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new Gn(c)}convertGeoPoint(e){return new Qn(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Be.fromString(e);Le(Gg(s),9688,{name:e});const a=new oa(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends Cy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:at("string",bs._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class ql extends bs{data(e={}){return super.data(e)}}class js{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ql(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(g=>{const _=new ql(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ml(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new ql(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ml(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,I=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),I=f.indexOf(g.doc.key)),{type:H1(g.type),doc:_,oldIndex:E,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:i})}}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:at("string",js._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class W1 extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Q1(i){i=Kl(i,Ys);const e=Kl(i.firestore,sf),n=_y(e),s=new W1(e);return j1(i._query),S1(n,i._query).then(a=>new js(e,s,i,a))}function G1(i,e){const n=Kl(i.firestore,sf),s=R1(i),a=q1(i.converter,e);return K1(n,[N1(wy(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,mr.exists(!1))]).then(()=>s)}function K1(i,e){return function(s,a){const c=new Gr;return s.asyncQueue.enqueueAndForget(async()=>c1(await T1(s),a,c)),c.promise}(_y(i),e)}(function(e,n=!0){(function(a){Qs=a})(g0),Gl(new na("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new sf(new x0(s.getProvider("auth-internal")),new N0(f,s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new te(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(E.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ls(Up,zp,e),Ls(Up,zp,"esm2017")})();var X1="firebase",Y1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(X1,Y1,"app");const pr={apiKey:"AIzaSyBNjBBaVTqtCKDiok9GXzMntA3pKL9LfOs",authDomain:"totalboardom-f1adb.firebaseapp.com",projectId:"totalboardom-f1adb",storageBucket:"totalboardom-f1adb.firebasestorage.app",messagingSenderId:"880267517897",appId:"1:880267517897:web:66e102b59e83d9433d9218"},Py=()=>!!(pr.apiKey&&pr.authDomain&&pr.projectId&&pr.storageBucket&&pr.messagingSenderId&&pr.appId&&pr.apiKey!=="your-actual-api-key"&&pr.projectId!=="your-actual-project-id");let jm=null,kh=null;if(Py())try{jm=Gm(pr),kh=P1(jm)}catch(i){console.error("Error initializing Firebase:",i)}const J1=async i=>{if(!kh)return{success:!1,message:"Firebase is not configured. Please add your Firebase configuration."};try{const e=C1(kh,"waitlist"),n=z1(e,B1("email","==",i.toLowerCase()));if(!(await Q1(n)).empty)return{success:!1,message:"This email is already on the waitlist!"};const a={email:i.toLowerCase(),timestamp:new Date,status:"pending"};return await G1(e,a),{success:!0,message:"Successfully added to waitlist!"}}catch(e){return console.error("Error adding to waitlist:",e),{success:!1,message:"Failed to add to waitlist. Please try again."}}},Z1=()=>{const[i,e]=bl.useState(""),[n,s]=bl.useState(!1),[a,c]=bl.useState(null),f=async g=>{if(g.preventDefault(),!i.trim()){c({text:"Please enter a valid email address.",type:"error"});return}s(!0),c(null);const _=await J1(i);c({text:_.message,type:_.success?"success":"error"}),_.success&&e(""),s(!1)};return se.jsxs("div",{className:"w-full max-w-md mx-auto",children:[se.jsxs("form",{onSubmit:f,className:"space-y-4",children:[se.jsx("div",{children:se.jsx("input",{type:"email",value:i,onChange:g=>e(g.target.value),placeholder:"Enter your email address",className:"w-full bg-[#F7F7FF] border border-[#BDD5EA] text-[#000000] rounded-lg p-4 text-lg focus:ring-2 focus:ring-[#FE5F55] focus:border-[#FE5F55] transition-all placeholder-gray-500",disabled:n,required:!0})}),a&&se.jsx("div",{className:`p-3 rounded-lg text-sm ${a.type==="success"?"bg-[#BDD5EA] bg-opacity-30 text-[#000000] border border-[#BDD5EA]":"bg-[#FE5F55] bg-opacity-20 text-[#000000] border border-[#FE5F55]"}`,children:a.text}),se.jsx(q_,{type:"submit",disabled:n||!i.trim(),className:"w-full !py-4 !text-lg !bg-[#F7F7FF] !text-[#10219F] !border-2 !border-[#F7F7FF] hover:!bg-[#BDD5EA] hover:!text-[#000000]",children:n?"Joining Waitlist...":"Join Waitlist"})]}),se.jsx("p",{className:"text-[#BDD5EA] text-sm text-center mt-4",children:"We'll notify you when boardom is ready for early access."})]})};function eT(){const i=Py();return se.jsxs("div",{className:"min-h-screen bg-[#F7F7FF] text-[#000000]",children:[se.jsx("header",{className:"px-6 py-4 border-b border-[#BDD5EA]",children:se.jsx("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:se.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-[#10219F] flex items-baseline",children:["boardom",se.jsx("span",{className:"inline-block w-2 h-2 bg-[#000000] ml-1"})]})})}),se.jsx("section",{className:"py-20 px-6",children:se.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[se.jsxs("h2",{className:"text-5xl md:text-6xl font-black mb-6 leading-tight text-[#000000]",children:["AI Prompts Meet",se.jsx("br",{}),se.jsx("span",{className:"text-[#10219F]",children:"boardom Workflow"})]}),se.jsx("p",{className:"text-xl md:text-2xl text-[#000000] mb-12 max-w-3xl mx-auto leading-relaxed opacity-80",children:"Structure your AI development process with intelligent workflow management that guides prompting to eliminate endless circles."}),!i&&se.jsxs("div",{className:"bg-[#FE5F55] bg-opacity-10 border border-[#FE5F55] text-[#000000] p-4 rounded-lg mb-8 max-w-md mx-auto",children:[se.jsx("p",{className:"font-bold mb-2",children:"⚠️ Configuration Required"}),se.jsxs("p",{className:"text-sm",children:["Please update your Firebase configuration in ",se.jsx("code",{children:"firebaseConfig.ts"})," to enable waitlist functionality."]})]}),se.jsxs("div",{className:"bg-[#10219F] text-[#F7F7FF] rounded-2xl p-8 max-w-lg mx-auto",children:[se.jsx("h3",{className:"text-2xl font-bold mb-2 text-[#F7F7FF]",children:"Ready to Structure Your AI Workflow?"}),se.jsx("p",{className:"text-[#BDD5EA] mb-6",children:"Join the waitlist and be first to experience boardom's intelligent prompting pipeline."}),se.jsx(Z1,{})]})]})}),se.jsx("section",{className:"py-20 px-6 bg-[#BDD5EA] bg-opacity-30",children:se.jsxs("div",{className:"max-w-6xl mx-auto",children:[se.jsx("h2",{className:"text-4xl font-bold text-center mb-4 text-[#000000]",children:"Why boardom Changes Everything"}),se.jsx("p",{className:"text-xl text-[#000000] opacity-80 text-center mb-16 max-w-3xl mx-auto",children:"Stop spinning your wheels with repetitive AI prompts. boardom's intelligent workflow system guides your development process with structured prompting pipelines."}),se.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[se.jsxs("div",{className:"bg-[#F7F7FF] border border-[#BDD5EA] rounded-xl p-8 text-center hover:shadow-lg transition-shadow",children:[se.jsx("div",{className:"w-16 h-16 bg-[#10219F] rounded-full flex items-center justify-center mx-auto mb-6",children:se.jsx("svg",{className:"w-8 h-8 text-[#F7F7FF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),se.jsx("h3",{className:"text-xl font-bold mb-3 text-[#000000]",children:"Smart Task Generation"}),se.jsx("p",{className:"text-[#000000] opacity-80",children:"Transform vague ideas into structured, actionable prompts with AI that understands development workflows."})]}),se.jsxs("div",{className:"bg-[#F7F7FF] border border-[#BDD5EA] rounded-xl p-8 text-center hover:shadow-lg transition-shadow",children:[se.jsx("div",{className:"w-16 h-16 bg-[#FE5F55] rounded-full flex items-center justify-center mx-auto mb-6",children:se.jsx("svg",{className:"w-8 h-8 text-[#F7F7FF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),se.jsx("h3",{className:"text-xl font-bold mb-3 text-[#000000]",children:"Guided Prompting Pipeline"}),se.jsx("p",{className:"text-[#000000] opacity-80",children:"Break free from endless prompting circles with contextual, structured AI guidance tailored to your workflow stage."})]}),se.jsxs("div",{className:"bg-[#F7F7FF] border border-[#BDD5EA] rounded-xl p-8 text-center hover:shadow-lg transition-shadow",children:[se.jsx("div",{className:"w-16 h-16 bg-[#000000] rounded-full flex items-center justify-center mx-auto mb-6",children:se.jsx("svg",{className:"w-8 h-8 text-[#F7F7FF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),se.jsx("h3",{className:"text-xl font-bold mb-3 text-[#000000]",children:"Intelligent Workflow"}),se.jsx("p",{className:"text-[#000000] opacity-80",children:"Visual workflow management that structures your AI development process and keeps projects moving forward."})]})]})]})}),se.jsx("footer",{className:"bg-[#000000] text-[#F7F7FF] py-12 px-6",children:se.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[se.jsxs("h3",{className:"text-2xl font-bold mb-4 text-[#F7F7FF] flex items-baseline justify-center",children:["boardom",se.jsx("span",{className:"inline-block w-2 h-2 bg-[#F7F7FF] ml-1"})]}),se.jsx("p",{className:"text-[#BDD5EA] mb-6",children:"AI-powered workflow management for structured development."}),se.jsx("div",{className:"flex justify-center space-x-6",children:se.jsxs("a",{href:"https://x.com/totalboardom",target:"_blank",rel:"noopener noreferrer",className:"bg-[#F7F7FF] text-[#000000] px-6 py-3 rounded-lg font-semibold hover:bg-[#BDD5EA] transition-all duration-300 flex items-center gap-3 border border-[#BDD5EA]",children:[se.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-[#000000]",children:se.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Follow"]})}),se.jsx("div",{className:"mt-8 pt-8 border-t border-[#BDD5EA] border-opacity-30",children:se.jsx("p",{className:"text-[#BDD5EA] text-sm",children:"© 2025 boardom. Built to structure AI development workflows."})})]})})]})}const ky=document.getElementById("root");if(!ky)throw new Error("Could not find root element to mount to");const tT=$_.createRoot(ky);tT.render(se.jsx(L_.StrictMode,{children:se.jsx(eT,{})}));
